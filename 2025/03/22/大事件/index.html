<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>å¤§äº‹ä»¶æ–‡æ¡£ | spike1666</title><meta name="author" content="Yang Le"><meta name="copyright" content="Yang Le"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ä¸€ã€ç¯å¢ƒå‡†å¤‡1.1 åˆ›å»ºvueå·¥ç¨‹(big-event)1234npm init vue@latestcd big-eventnpm install 1.2 å®‰è£…æ’ä»¶ å®‰è£…element-plus 123451.1 æ‰§è¡Œå‘½ä»¤: npm install element-plus --save1.2 åœ¨main.jsä¸­åšå¦‚ä¸‹é…ç½®	import ElementPlus from &#x27;elemen">
<meta property="og:type" content="article">
<meta property="og:title" content="å¤§äº‹ä»¶æ–‡æ¡£">
<meta property="og:url" content="https://www.spike1666.top/2025/03/22/%E5%A4%A7%E4%BA%8B%E4%BB%B6/index.html">
<meta property="og:site_name" content="spike1666">
<meta property="og:description" content="ä¸€ã€ç¯å¢ƒå‡†å¤‡1.1 åˆ›å»ºvueå·¥ç¨‹(big-event)1234npm init vue@latestcd big-eventnpm install 1.2 å®‰è£…æ’ä»¶ å®‰è£…element-plus 123451.1 æ‰§è¡Œå‘½ä»¤: npm install element-plus --save1.2 åœ¨main.jsä¸­åšå¦‚ä¸‹é…ç½®	import ElementPlus from &#x27;elemen">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://source.fomal.cc/img/yuanshen1.webp">
<meta property="article:published_time" content="2025-03-21T16:00:00.000Z">
<meta property="article:modified_time" content="2025-03-21T16:00:00.000Z">
<meta property="article:author" content="Yang Le">
<meta property="article:tag" content="vue+springboot">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://source.fomal.cc/img/yuanshen1.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "å¤§äº‹ä»¶æ–‡æ¡£",
  "url": "https://www.spike1666.top/2025/03/22/%E5%A4%A7%E4%BA%8B%E4%BB%B6/",
  "image": "https://source.fomal.cc/img/yuanshen1.webp",
  "datePublished": "2025-03-21T16:00:00.000Z",
  "dateModified": "2025-03-21T16:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Yang Le",
      "url": "https://www.spike1666.top/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.spike1666.top/2025/03/22/%E5%A4%A7%E4%BA%8B%E4%BB%B6/index.html"><link rel="preconnect" href="//cdnjs.cloudflare.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdnjs.cloudflare.com/ajax/libs/egjs-infinitegrid/4.12.0/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'å¤§äº‹ä»¶æ–‡æ¡£',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/cat.css"><link rel="stylesheet" href="/css/readPercent.css"><div id="myscoll"></div><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="/js/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="/css/progress_bar.css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>å¤åˆ¶</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>ç™¾åº¦æœç´¢</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>ç²˜è´´</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>ç©ºé™è¯„è®º</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>å¤åˆ¶æœ¬æ–‡åœ°å€</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>ä¿å­˜å›¾ç‰‡</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>åœ¨æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶å›¾ç‰‡é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>æ˜¼å¤œåˆ‡æ¢</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();"><i class="fa fa-book"></i><span>é˜…è¯»æ¨¡å¼</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>å…³äºåšå®¢</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>ç¾åŒ–è®¾ç½®</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>åˆ‡æ¢å…¨å±</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>æ‰“å°é¡µé¢</span></a></div></div><div id="web_bg" style="background-image: url(https://source.fomal.cc/img/music.webp);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/touxiang.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾ğŸ</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">åˆ†ç±»ğŸ¥½</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-shouye"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shouye"></use></svg><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-shijian"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shijian"></use></svg><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><i class="fa-fw icon-sekuaibiaoqian"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw icon-fenlei"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><svg class="icon hide" aria-hidden="true"><use xlink:href="#icon-xiebaogao"></use></svg><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-yinle1">                   </use></svg><span> éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhaopian">                   </use></svg><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-fabuxuqiu"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fabuxuqiu"></use></svg><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-icon-test"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-icon-test"></use></svg><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw icon-guanyuwomen-"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-guanyuwomen-"></use></svg><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://source.fomal.cc/img/yuanshen1.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">spike1666</span></a><a class="nav-page-title" href="/"><span class="site-name">å¤§äº‹ä»¶æ–‡æ¡£</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-shouye"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shouye"></use></svg><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-shijian"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shijian"></use></svg><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><i class="fa-fw icon-sekuaibiaoqian"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw icon-fenlei"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><svg class="icon hide" aria-hidden="true"><use xlink:href="#icon-xiebaogao"></use></svg><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-yinle1">                   </use></svg><span> éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhaopian">                   </use></svg><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-fabuxuqiu"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fabuxuqiu"></use></svg><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-icon-test"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-icon-test"></use></svg><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw icon-guanyuwomen-"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-guanyuwomen-"></use></svg><span> å…³äº</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div><div id="randomPost"></div><a class="site-page social-icon search" href="javascript:;" onclick="randomPost()" title="éšæœºè®¿é—®ä¸€ç¯‡æ–‡ç« "><i class="fas fa-circle-notch fa-fw"></i></a></nav><div id="post-info"><h1 class="post-title">å¤§äº‹ä»¶æ–‡æ¡£</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-03-21T16:00:00.000Z" title="å‘è¡¨äº 2025-03-22 00:00:00">2025-03-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-03-21T16:00:00.000Z" title="æ›´æ–°äº 2025-03-22 00:00:00">2025-03-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/vue-springboot/">vue+springboot</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">12k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>58åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="ä¸€ã€ç¯å¢ƒå‡†å¤‡"><a href="#ä¸€ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ä¸€ã€ç¯å¢ƒå‡†å¤‡"></a>ä¸€ã€ç¯å¢ƒå‡†å¤‡</h1><h3 id="1-1-åˆ›å»ºvueå·¥ç¨‹-big-event"><a href="#1-1-åˆ›å»ºvueå·¥ç¨‹-big-event" class="headerlink" title="1.1 åˆ›å»ºvueå·¥ç¨‹(big-event)"></a>1.1 åˆ›å»ºvueå·¥ç¨‹(big-event)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init vue@latest</span><br><span class="line"></span><br><span class="line">cd big-event</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>
<h3 id="1-2-å®‰è£…æ’ä»¶"><a href="#1-2-å®‰è£…æ’ä»¶" class="headerlink" title="1.2 å®‰è£…æ’ä»¶"></a>1.2 å®‰è£…æ’ä»¶</h3><ol>
<li><p>å®‰è£…element-plus</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.1</span> æ‰§è¡Œå‘½ä»¤: npm install element-plus --save</span><br><span class="line"><span class="number">1.2</span> åœ¨main.<span class="property">js</span>ä¸­åšå¦‚ä¸‹é…ç½®</span><br><span class="line">	<span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line">	<span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line">	app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…axios</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>å®‰è£…sassä¾èµ–</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sass -D</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="1-3-ç›®å½•è°ƒæ•´"><a href="#1-3-ç›®å½•è°ƒæ•´" class="headerlink" title="1.3 ç›®å½•è°ƒæ•´"></a>1.3 ç›®å½•è°ƒæ•´</h3><ol>
<li><p>åˆ é™¤componentsç›®å½•ä¸‹çš„å†…å®¹</p>
</li>
<li><p>åˆ é™¤App.vueä¸­çš„å†…å®¹ï¼Œåªä¿ç•™scriptå’Œtemplateæ ‡ç­¾</p>
</li>
<li><p>æ–°å»ºå¦‚ä¸‹ç›®å½•ï¼š</p>
</li>
</ol>
<p>â€‹    apiï¼šå­˜æ”¾æ¥å£è°ƒç”¨çš„jsæ–‡ä»¶</p>
<p>â€‹    utilsï¼šå­˜æ”¾å·¥å…·jsæ–‡ä»¶</p>
<p>â€‹          æ‹·è´request.jsåˆ°utilç›®å½•</p>
<p>â€‹    viewsï¼šå­˜æ”¾é¡µé¢çš„.vueæ–‡ä»¶</p>
<ol>
<li>åˆ é™¤assetsç›®å½•ä¸­çš„å†…å®¹ï¼Œ å°†èµ„æ–™ä¸­çš„é™æ€èµ„æºæ–‡ä»¶å…¨éƒ¨æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹</li>
</ol>
<h1 id="äºŒã€æ³¨å†Œ"><a href="#äºŒã€æ³¨å†Œ" class="headerlink" title="äºŒã€æ³¨å†Œ"></a>äºŒã€æ³¨å†Œ</h1><h3 id="2-1-é¡µé¢æ­å»º"><a href="#2-1-é¡µé¢æ­å»º" class="headerlink" title="2.1 é¡µé¢æ­å»º"></a>2.1 é¡µé¢æ­å»º</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; <span class="title class_">User</span>, <span class="title class_">Lock</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//æ§åˆ¶æ³¨å†Œä¸ç™»å½•è¡¨å•çš„æ˜¾ç¤ºï¼Œ é»˜è®¤æ˜¾ç¤ºæ³¨å†Œ</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> isRegister = <span class="title function_">ref</span>(<span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">class</span>=<span class="string">&quot;login-page&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span> <span class="attr">:offset</span>=<span class="string">&quot;3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ³¨å†Œè¡¨å• --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;isRegister&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ³¨å†Œ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;User&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;Lock&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;Lock&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å†æ¬¡å¯†ç &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- æ³¨å†ŒæŒ‰é’® --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">auto-insert-space</span>&gt;</span></span><br><span class="line">                        æ³¨å†Œ</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;isRegister = false&quot;</span>&gt;</span></span><br><span class="line">                        â† è¿”å›</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ç™»å½•è¡¨å• --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;User&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">:prefix-icon</span>=<span class="string">&quot;Lock&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-checkbox</span>&gt;</span>è®°ä½æˆ‘<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span>&gt;</span>å¿˜è®°å¯†ç ï¼Ÿ<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- ç™»å½•æŒ‰é’® --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">auto-insert-space</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;isRegister = true&quot;</span>&gt;</span></span><br><span class="line">                        æ³¨å†Œ â†’</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="comment">/* æ ·å¼ */</span></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.login-page</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.bg</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;@/assets/logo2.png&#x27;</span>) no-repeat <span class="number">60%</span> center / <span class="number">240px</span> auto,</span></span><br><span class="line"><span class="language-css">            <span class="built_in">url</span>(<span class="string">&#x27;@/assets/login_bg.jpg&#x27;</span>) no-repeat center / cover;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">20px</span> <span class="number">20px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.form</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">user-select</span>: none;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.title</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.button</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.flex</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š"><a href="#2-2-é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š" class="headerlink" title="2.2 é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š"></a>2.2 é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š</h3><h4 id="2-2-1-æ•°æ®ç»‘å®š"><a href="#2-2-1-æ•°æ®ç»‘å®š" class="headerlink" title="2.2.1 æ•°æ®ç»‘å®š"></a>2.2.1 æ•°æ®ç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> registerData = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">rePassword</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="2-2-2-è¡¨å•æ ¡éªŒ"><a href="#2-2-2-è¡¨å•æ ¡éªŒ" class="headerlink" title="2.2.2 è¡¨å•æ ¡éªŒ"></a>2.2.2 è¡¨å•æ ¡éªŒ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è‡ªå®šä¹‰ç¡®è®¤å¯†ç çš„æ ¡éªŒå‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">rePasswordValid</span> = (<span class="params">rule, value, callback</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (value == <span class="literal">null</span> || value === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;è¯·å†æ¬¡ç¡®è®¤å¯†ç &#x27;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (registerData.<span class="property">password</span> !== value) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´&#x27;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„è¡¨å•æ ¡éªŒæ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> registerDataRules = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">username</span>: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·å&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">min</span>: <span class="number">5</span>, <span class="attr">max</span>: <span class="number">16</span>, <span class="attr">message</span>: <span class="string">&#x27;ç”¨æˆ·åçš„é•¿åº¦å¿…é¡»ä¸º5~16ä½&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">password</span>: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥å¯†ç &#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">min</span>: <span class="number">5</span>, <span class="attr">max</span>: <span class="number">16</span>, <span class="attr">message</span>: <span class="string">&#x27;å¯†ç é•¿åº¦å¿…é¡»ä¸º5~16ä½&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">rePassword</span>: [</span><br><span class="line">        &#123; <span class="attr">validator</span>: rePasswordValid, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="2-2-3-äº‹ä»¶ç»‘å®š"><a href="#2-2-3-äº‹ä»¶ç»‘å®š" class="headerlink" title="2.2.3 äº‹ä»¶ç»‘å®š"></a>2.2.3 äº‹ä»¶ç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">register</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ³¨å†Œ...&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-3-æ¥å£è°ƒç”¨"><a href="#2-3-æ¥å£è°ƒç”¨" class="headerlink" title="2.3 æ¥å£è°ƒç”¨"></a>2.3 æ¥å£è°ƒç”¨</h3><h4 id="2-3-1-åœ¨src-api-user-jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°"><a href="#2-3-1-åœ¨src-api-user-jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°" class="headerlink" title="2.3.1 åœ¨src/api/user.jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°"></a>2.3.1 åœ¨src/api/user.jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨å†Œ</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">registerService</span> = (<span class="params">registerData</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>()</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> registerData) &#123;</span><br><span class="line">        params.<span class="title function_">append</span>(key, registerData[key])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/user/register&#x27;</span>, params)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-3-2-åœ¨Login-vueä¸­å®Œæˆæ³¨å†Œæ¥å£è°ƒç”¨"><a href="#2-3-2-åœ¨Login-vueä¸­å®Œæˆæ³¨å†Œæ¥å£è°ƒç”¨" class="headerlink" title="2.3.2 åœ¨Login.vueä¸­å®Œæˆæ³¨å†Œæ¥å£è°ƒç”¨"></a>2.3.2 åœ¨Login.vueä¸­å®Œæˆæ³¨å†Œæ¥å£è°ƒç”¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; registerService&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">register</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//console.log(&#x27;æ³¨å†Œ...&#x27;);</span></span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">registerService</span>(registerData.<span class="property">value</span>);</span><br><span class="line">    <span class="keyword">if</span> (result.<span class="property">code</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æ³¨å†ŒæˆåŠŸ!&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æ³¨å†Œå¤±è´¥!&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-å¤„ç†è·¨åŸŸé—®é¢˜"><a href="#2-4-å¤„ç†è·¨åŸŸé—®é¢˜" class="headerlink" title="2.4 å¤„ç†è·¨åŸŸé—®é¢˜"></a>2.4 å¤„ç†è·¨åŸŸé—®é¢˜</h3><p>ç”±äºå‘èµ·ajaxè¯·æ±‚çš„åŸŸä¸º<a target="_blank" rel="noopener" href="http://localhost:5173">http://localhost:5173</a>, è€Œåå°æœåŠ¡å™¨çš„åŸŸä¸º <a target="_blank" rel="noopener" href="http://localhost:8080">http://localhost:8080</a>, æ‰€ä»¥æµè§ˆå™¨ä¼šé™åˆ¶è¯¥è¯·æ±‚çš„å‘é€, è¿™ç§é—®é¢˜ç§°ä¸ºè·¨åŸŸé—®é¢˜, è·¨åŸŸé—®é¢˜å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯è§£å†³,ä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨ç«¯è§£å†³, å’±ä»¬è¿™ä¸€å—é€šè¿‡é…ç½®ä»£ç†çš„æ–¹å¼è§£å†³</p>
<p><strong>request.jsä¸­é…ç½®ç»Ÿä¸€å‰ç¼€ /api</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šåˆ¶è¯·æ±‚çš„å®ä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¼å…¥axios  npm install axios</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªå˜é‡,è®°å½•å…¬å…±çš„å‰ç¼€  ,  baseURL</span></span><br><span class="line"><span class="keyword">const</span> baseURL = <span class="string">&#x27;/api&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;baseURL&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">result</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> result.<span class="property">data</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance;</span><br></pre></td></tr></table></figure>
<p><strong>vie.config.jsä¸­é…ç½®ä»£ç†</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; fileURLToPath, <span class="variable constant_">URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;node:url&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//é…ç½®ä»£ç†</span></span><br><span class="line">  <span class="attr">server</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:8080&#x27;</span>, <span class="comment">// åç«¯æœåŠ¡å™¨åœ°å€</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦æ”¹å˜è¯·æ±‚åŸŸå</span></span><br><span class="line">        <span class="attr">rewrite</span>: <span class="function">(<span class="params">path</span>) =&gt;</span> path.<span class="title function_">replace</span>(<span class="regexp">/^\/api/</span>, <span class="string">&#x27;&#x27;</span>)<span class="comment">//å°†åŸæœ‰è¯·æ±‚è·¯å¾„ä¸­çš„apiæ›¿æ¢ä¸º&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰ã€ç™»å½•"><a href="#ä¸‰ã€ç™»å½•" class="headerlink" title="ä¸‰ã€ç™»å½•"></a>ä¸‰ã€ç™»å½•</h1><h3 id="3-1é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š"><a href="#3-1é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š" class="headerlink" title="3.1é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š"></a>3.1é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š</h3><h4 id="3-1-1-ç»‘å®šæ•°æ®"><a href="#3-1-1-ç»‘å®šæ•°æ®" class="headerlink" title="3.1.1 ç»‘å®šæ•°æ®"></a>3.1.1 ç»‘å®šæ•°æ®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¤ç”¨æ³¨å†Œè¡¨å•çš„æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> registerData = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">rePassword</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="3-1-2-æ¯æ¬¡ç‚¹å‡»æ³¨å†Œæˆ–è€…ç™»å½•ï¼Œå…±ç”¨æ•°æ®æ¨¡å‹ä¸­çš„æ•°æ®"><a href="#3-1-2-æ¯æ¬¡ç‚¹å‡»æ³¨å†Œæˆ–è€…ç™»å½•ï¼Œå…±ç”¨æ•°æ®æ¨¡å‹ä¸­çš„æ•°æ®" class="headerlink" title="3.1.2 æ¯æ¬¡ç‚¹å‡»æ³¨å†Œæˆ–è€…ç™»å½•ï¼Œå…±ç”¨æ•°æ®æ¨¡å‹ä¸­çš„æ•°æ®"></a>3.1.2 æ¯æ¬¡ç‚¹å‡»æ³¨å†Œæˆ–è€…ç™»å½•ï¼Œå…±ç”¨æ•°æ®æ¨¡å‹ä¸­çš„æ•°æ®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¸…ç©ºæ•°æ®æ¨¡å‹çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">clearRegisterData</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    registerData.<span class="property">value</span> = &#123;</span><br><span class="line">        <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">rePassword</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-1-3-äº‹ä»¶ç»‘å®š"><a href="#3-1-3-äº‹ä»¶ç»‘å®š" class="headerlink" title="3.1.3 äº‹ä»¶ç»‘å®š"></a>3.1.3 äº‹ä»¶ç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> =  (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-2-æ¥å£è°ƒç”¨"><a href="#3-2-æ¥å£è°ƒç”¨" class="headerlink" title="3.2 æ¥å£è°ƒç”¨"></a>3.2 æ¥å£è°ƒç”¨</h3><h4 id="3-2-1-åœ¨src-api-user-jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°"><a href="#3-2-1-åœ¨src-api-user-jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°" class="headerlink" title="3.2.1 åœ¨src/api/user.jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°"></a>3.2.1 åœ¨src/api/user.jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç™»å½•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginService</span> = (<span class="params">loginData</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">var</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>()</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> loginData)&#123;</span><br><span class="line">        params.<span class="title function_">append</span>(key,loginData[key])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/user/login&#x27;</span>,params)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-2-2-åœ¨Login-vueä¸­å®Œæˆç™»å½•æ¥å£è°ƒç”¨"><a href="#3-2-2-åœ¨Login-vueä¸­å®Œæˆç™»å½•æ¥å£è°ƒç”¨" class="headerlink" title="3.2.2 åœ¨Login.vueä¸­å®Œæˆç™»å½•æ¥å£è°ƒç”¨"></a>3.2.2 åœ¨Login.vueä¸­å®Œæˆç™»å½•æ¥å£è°ƒç”¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; registerService, loginService &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºç™»å½•çš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">loginService</span>(registerData.<span class="property">value</span>)</span><br><span class="line">    <span class="keyword">if</span>(result.<span class="property">code</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ!&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;ç™»å½•å¤±è´¥!&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å››ã€ä¼˜åŒ–axioså“åº”æˆªå™¨"><a href="#å››ã€ä¼˜åŒ–axioså“åº”æˆªå™¨" class="headerlink" title="å››ã€ä¼˜åŒ–axioså“åº”æˆªå™¨"></a>å››ã€ä¼˜åŒ–axioså“åº”æˆªå™¨</h1><p>åœ¨æ¥å£è°ƒç”¨çš„APIä¸­ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹ä¸šåŠ¡å“åº”çš„çŠ¶æ€è¿›è¡Œåˆ¤æ–­ï¼Œä»è€Œç»™ç”¨æˆ·å¯¹åº”çš„æç¤ºï¼Œè¿™ä¸ªå·¥ä½œä¸éš¾ï¼Œä½†æ˜¯æ¯ä¸ªæ¥å£çš„è°ƒç”¨ï¼Œéƒ½è¿™æ ·å†™ä»£ç ï¼Œæ˜¾ç„¶æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨axiosçš„ç›¸åº”æ‹¦æˆªå™¨ä¸­ï¼Œå¦‚æœæœåŠ¡å™¨å“åº”æˆåŠŸäº†ï¼Œç»Ÿä¸€åˆ¤æ–­åå°è¿”å›çš„ä¸šåŠ¡çŠ¶æ€ç codeï¼Œå¦‚æœæˆåŠŸäº†ï¼Œæ­£å¸¸è¿”å›æ•°æ®ï¼Œå¦‚æœå¤±è´¥äº†ï¼Œåˆ™ç»™å‡ºç”¨æˆ·å¯¹åº”çš„æç¤ºå³å¯</p>
<p><strong>è¯·æ±‚å·¥å…·request.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœä¸šåŠ¡çŠ¶æ€ç ä¸º0ï¼Œä»£è¡¨æœ¬æ¬¡æ“ä½œæˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> (result.<span class="property">data</span>.<span class="property">code</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result.<span class="property">data</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä»£ç èµ°åˆ°è¿™é‡Œï¼Œä»£è¡¨ä¸šåŠ¡çŠ¶æ€ç ä¸æ˜¯0ï¼Œæœ¬æ¬¡æ“ä½œå¤±è´¥</span></span><br><span class="line">        <span class="title function_">alert</span>(result.<span class="property">data</span>.<span class="property">message</span> || <span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(result.<span class="property">data</span>);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><strong>æ¥å£è°ƒç”¨user.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨äºæ³¨å†Œçš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">register</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//console.log(&#x27;æ³¨å†Œ...&#x27;);</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">registerService</span>(registerData.<span class="property">value</span>);</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;æ³¨å†ŒæˆåŠŸ!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºç™»å½•çš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">loginService</span>(registerData.<span class="property">value</span>)</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ!&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Element-Plusæç¤ºæ¡†çš„ä½¿ç”¨</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line"><span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ!&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="äº”ã€ä¸»é¡µé¢å¸ƒå±€"><a href="#äº”ã€ä¸»é¡µé¢å¸ƒå±€" class="headerlink" title="äº”ã€ä¸»é¡µé¢å¸ƒå±€"></a>äº”ã€ä¸»é¡µé¢å¸ƒå±€</h1><p><img src="assets/1697857363429.png" alt="1697857363429"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Management</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Promotion</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">UserFilled</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">User</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Crop</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">EditPen</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">SwitchButton</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">CaretBottom</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> avatar <span class="keyword">from</span> <span class="string">&#x27;@/assets/default.png&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-container</span> <span class="attr">class</span>=<span class="string">&quot;layout-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å·¦ä¾§èœå• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;el-aside__logo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">active-text-color</span>=<span class="string">&quot;#ffd04b&quot;</span> <span class="attr">background-color</span>=<span class="string">&quot;#232323&quot;</span>  <span class="attr">text-color</span>=<span class="string">&quot;#fff&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">router</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Management</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« åˆ†ç±»<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Promotion</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« ç®¡ç†<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-sub-menu</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">UserFilled</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>ä¸ªäººä¸­å¿ƒ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">User</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>åŸºæœ¬èµ„æ–™<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">Crop</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ›´æ¢å¤´åƒ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> &gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">EditPen</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>é‡ç½®å¯†ç <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å³ä¾§ä¸»åŒºåŸŸ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- å¤´éƒ¨åŒºåŸŸ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span>é»‘é©¬ç¨‹åºå‘˜ï¼š<span class="tag">&lt;<span class="name">strong</span>&gt;</span>ä¸œå“¥<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-dropdown</span> <span class="attr">placement</span>=<span class="string">&quot;bottom-end&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;el-dropdown__box&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-avatar</span> <span class="attr">:src</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">CaretBottom</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">dropdown</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-dropdown-menu</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;profile&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;User&quot;</span>&gt;</span>åŸºæœ¬èµ„æ–™<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Crop&quot;</span>&gt;</span>æ›´æ¢å¤´åƒ<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;password&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;EditPen&quot;</span>&gt;</span>é‡ç½®å¯†ç <span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;logout&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;SwitchButton&quot;</span>&gt;</span>é€€å‡ºç™»å½•<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-dropdown-menu</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-dropdown</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ä¸­é—´åŒºåŸŸ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 1290px; height: 570px;border: 1px solid red;&quot;</span>&gt;</span></span><br><span class="line">                    å†…å®¹å±•ç¤ºåŒº</span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- åº•éƒ¨åŒºåŸŸ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-footer</span>&gt;</span>å¤§äº‹ä»¶ Â©2023 Created by é»‘é©¬ç¨‹åºå‘˜<span class="tag">&lt;/<span class="name">el-footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.layout-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.el-aside</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#232323</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &amp;__logo &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;@/assets/logo.png&#x27;</span>) no-repeat center / <span class="number">120px</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-menu</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-right</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.el-header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-dropdown__box</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.el-icon</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">color</span>: <span class="number">#999</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            &amp;<span class="selector-pseudo">:active</span>,</span></span><br><span class="line"><span class="language-css">            &amp;<span class="selector-pseudo">:focus</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">outline</span>: none;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.el-footer</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="å…­ã€è·¯ç”±"><a href="#å…­ã€è·¯ç”±" class="headerlink" title="å…­ã€è·¯ç”±"></a>å…­ã€è·¯ç”±</h1><p>åœ¨App.vueä¸­ï¼Œä¸èƒ½åŒæ—¶å±•ç¤ºLogin.vueå’ŒLayout.vueï¼Œå®é™…çš„éœ€æ±‚æ˜¯ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®ç¨‹åºï¼Œå…ˆå±•ç¤ºç™»å½•é¡µé¢ï¼Œå½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œå†å±•ç¤ºä¸»é¡µé¢ï¼Œå¦‚æœè¦è¾¾æˆè¿™ä¸ªéœ€æ±‚ï¼Œéœ€è¦ç”¨åˆ°vueæä¾›çš„è·¯ç”±ç›¸å…³çš„çŸ¥è¯†</p>
<p>è·¯ç”±ï¼Œä»èµ·ç‚¹åˆ°ç»ˆç‚¹æ—¶ï¼Œå†³å®šä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„çš„è¿›ç¨‹ï¼Œåœ¨å‰ç«¯å·¥ç¨‹ä¸­ï¼Œè·¯ç”±æŒ‡çš„æ˜¯æ ¹æ®ä¸åŒçš„è®¿é—®è·¯å¾„ï¼Œå±•ç¤ºä¸åŒç»„ä»¶çš„å†…å®¹ã€‚Vue Routeræ˜¯Vue.jsçš„å®˜æ–¹è·¯ç”±ï¼Œå®ƒä¸Vue.jsæ·±åº¦é›†æˆï¼Œè®©Vue.jsæ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ›´åŠ è½»è€Œæ˜“ä¸¾</p>
<h3 id="6-1å®‰è£…è·¯ç”±"><a href="#6-1å®‰è£…è·¯ç”±" class="headerlink" title="6.1å®‰è£…è·¯ç”±"></a>6.1å®‰è£…è·¯ç”±</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@<span class="number">4</span></span><br></pre></td></tr></table></figure>
<h3 id="6-2åˆ›å»ºè·¯ç”±å™¨ï¼Œå¹¶å¯¼å‡º"><a href="#6-2åˆ›å»ºè·¯ç”±å™¨ï¼Œå¹¶å¯¼å‡º" class="headerlink" title="6.2åˆ›å»ºè·¯ç”±å™¨ï¼Œå¹¶å¯¼å‡º"></a>6.2åˆ›å»ºè·¯ç”±å™¨ï¼Œå¹¶å¯¼å‡º</h3><p>åœ¨src/routerç›®å½•ä¸‹ï¼Œå®šä¹‰ä¸€ä¸ªjsæ–‡ä»¶ï¼Œèµ·åä¸ºindex.jsã€‚è¿™æ ·åå­—çš„jsæ–‡ä»¶åœ¨å¯¼å…¥æ—¶ï¼Œå¯ä»¥ä¸å†™æ–‡ä»¶åï¼Œåªè¦å®šä½åˆ°æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹å³å¯ï¼Œä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥vue-router</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//å¯¼å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">LoginVue</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Login.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">LayoutVue</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Layout.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰è·¯ç”±å…³ç³»</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LoginVue</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LayoutVue</span> &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">    <span class="attr">routes</span>: routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>
<h3 id="6-3åœ¨vueåº”ç”¨å®ä¾‹ä¸­ä½¿ç”¨router"><a href="#6-3åœ¨vueåº”ç”¨å®ä¾‹ä¸­ä½¿ç”¨router" class="headerlink" title="6.3åœ¨vueåº”ç”¨å®ä¾‹ä¸­ä½¿ç”¨router"></a>6.3åœ¨vueåº”ç”¨å®ä¾‹ä¸­ä½¿ç”¨router</h3><p>åœ¨main.jsä¸­å¯¼å…¥åˆ›å»ºåº”ç”¨å®åŠ›çš„jsæ–‡ä»¶ï¼Œå¹¶è°ƒç”¨å®ä¾‹çš„useæ–¹æ³•ä½¿ç”¨è·¯ç”±å™¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br></pre></td></tr></table></figure>
<h3 id="6-4å®šä¹‰å±•ç¤ºè·¯ç”±ç»„ä»¶çš„åœ°æ–¹"><a href="#6-4å®šä¹‰å±•ç¤ºè·¯ç”±ç»„ä»¶çš„åœ°æ–¹" class="headerlink" title="6.4å®šä¹‰å±•ç¤ºè·¯ç”±ç»„ä»¶çš„åœ°æ–¹"></a>6.4å®šä¹‰å±•ç¤ºè·¯ç”±ç»„ä»¶çš„åœ°æ–¹</h3><p>åœ¨App.vueæ–‡ä»¶çš„templateæ ‡ç­¾ä¸­ï¼Œå®šä¹‰router-viewæ ‡ç­¾</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å°†æ¥ä¸ç®¡æ ¹æ®è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å†…å®¹ï¼Œä¼šåœ¨router-viewæ ‡ç­¾å†…è¿›è¡Œå±•ç¤º</p>
<h3 id="6-5-æµ‹è¯•"><a href="#6-5-æµ‹è¯•" class="headerlink" title="6.5 æµ‹è¯•"></a>6.5 æµ‹è¯•</h3><p>åœ¨æµè§ˆå™¨åœ°å€æ åˆ†åˆ«è®¿é—®ï¼š<a target="_blank" rel="noopener" href="http://localhost:5173/">http://localhost:5173/</a>    å’Œ   <a target="_blank" rel="noopener" href="http://localhost:5173/login">http://localhost:5173/login</a></p>
<h3 id="6-6-è·¯ç”±API"><a href="#6-6-è·¯ç”±API" class="headerlink" title="6.6 è·¯ç”±API"></a>6.6 è·¯ç”±API</h3><p>åœ¨ç™»å½•æˆåŠŸåï¼Œéœ€è¦é€šè¿‡ä»£ç çš„æ–¹å¼å°†é¡µé¢åˆ‡æ¢åˆ°é¦–é¡µï¼Œæ­¤æ—¶å°±éœ€è¦è°ƒç”¨è·¯ç”±å™¨ç›¸å…³çš„API</p>
<p><strong>è·å–è·¯ç”±å™¨</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>();</span><br></pre></td></tr></table></figure>
<p><strong>è°ƒç”¨API</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">push</span>(<span class="string">&#x27;/&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="ä¸ƒã€å­è·¯ç”±"><a href="#ä¸ƒã€å­è·¯ç”±" class="headerlink" title="ä¸ƒã€å­è·¯ç”±"></a>ä¸ƒã€å­è·¯ç”±</h1><p>åœ¨å’±ä»¬çš„ä¸»é¡µé¢ä¸­ï¼Œå½“ç”¨æˆ·ç‚¹å‡»å·¦ä¾§çš„èœå•æ—¶ï¼Œå³ä¾§ä¸»åŒºåŸŸçš„å†…å®¹éœ€è¦å‘ç”Ÿå˜åŒ–ï¼Œå°†æ¥æ¯åˆ‡æ¢ä¸€ä¸ªèœå•ï¼Œå³ä¾§éœ€è¦åŠ è½½å¯¹åº”ç»„ä»¶çš„å†…å®¹è¿›è¡Œå±•ç¤ºï¼Œåƒè¿™æ ·çš„åœºæ™¯å’±ä»¬ä¹Ÿéœ€è¦ä½¿ç”¨è·¯ç”±æ¥å®Œæˆ</p>
<p>ç”±äºè¿™äº›ç»„ä»¶éƒ½éœ€è¦åœ¨Layout.vueä¸­å±•ç¤ºï¼Œ è€ŒLayout.vueæœ¬èº«å·²ç»å‚ä¸äº†è·¯ç”±ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨Layout.vueä¸­é€šè¿‡å­è·¯ç”±çš„æ–¹å¼æ¥å®Œæˆç»„ä»¶çš„åˆ‡æ¢</p>
<h3 id="7-1æä¾›èœå•å¯¹åº”çš„ç»„ä»¶"><a href="#7-1æä¾›èœå•å¯¹åº”çš„ç»„ä»¶" class="headerlink" title="7.1æä¾›èœå•å¯¹åº”çš„ç»„ä»¶"></a>7.1æä¾›èœå•å¯¹åº”çš„ç»„ä»¶</h3><p>å¯ä»¥å¤åˆ¶èµ„æ–™ä¸­çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºï¼š</p>
<ul>
<li>ArticleCategory.vue</li>
<li>ArticleManage.vue</li>
<li>UserInfo.vue</li>
<li>UserAvatar.vue</li>
<li>UserResetPassword.vue</li>
</ul>
<h3 id="7-2é…ç½®å­è·¯ç”±"><a href="#7-2é…ç½®å­è·¯ç”±" class="headerlink" title="7.2é…ç½®å­è·¯ç”±"></a>7.2é…ç½®å­è·¯ç”±</h3><p>åœ¨src/router/index.jsä¸­é…ç½®å­è·¯ç”±</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰è·¯ç”±å…³ç³»</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LoginVue</span> &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">LayoutVue</span>,</span><br><span class="line">        <span class="comment">//é‡å®šå‘</span></span><br><span class="line">        <span class="attr">redirect</span>: <span class="string">&#x27;/article/manage&#x27;</span>,</span><br><span class="line">        <span class="comment">//å­è·¯ç”±</span></span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/article/category&#x27;</span>, <span class="attr">component</span>: <span class="title class_">ArticleCategoryVue</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/article/manage&#x27;</span>, <span class="attr">component</span>: <span class="title class_">ArticleManageVue</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/user/info&#x27;</span>, <span class="attr">component</span>: <span class="title class_">UserInfoVue</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/user/avatar&#x27;</span>, <span class="attr">component</span>: <span class="title class_">UserAvatarVUe</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">path</span>: <span class="string">&#x27;/user/password&#x27;</span>, <span class="attr">component</span>: <span class="title class_">UserResetPasswordVue</span> &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="7-3-åœ¨Layout-vueç»„ä»¶çš„å³ä¾§ä¸­é—´åŒºåŸŸï¼Œæ·»åŠ router-viewæ ‡ç­¾"><a href="#7-3-åœ¨Layout-vueç»„ä»¶çš„å³ä¾§ä¸­é—´åŒºåŸŸï¼Œæ·»åŠ router-viewæ ‡ç­¾" class="headerlink" title="7.3 åœ¨Layout.vueç»„ä»¶çš„å³ä¾§ä¸­é—´åŒºåŸŸï¼Œæ·»åŠ router-viewæ ‡ç­¾"></a>7.3 åœ¨Layout.vueç»„ä»¶çš„å³ä¾§ä¸­é—´åŒºåŸŸï¼Œæ·»åŠ router-viewæ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¸­é—´åŒºåŸŸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 1290px; height: 570px;border: 1px solid red;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="7-4-èœå•é¡¹è®¾ç½®ç‚¹å‡»åè·³è½¬çš„è·¯ç”±è·¯å¾„"><a href="#7-4-èœå•é¡¹è®¾ç½®ç‚¹å‡»åè·³è½¬çš„è·¯ç”±è·¯å¾„" class="headerlink" title="7.4 èœå•é¡¹è®¾ç½®ç‚¹å‡»åè·³è½¬çš„è·¯ç”±è·¯å¾„"></a>7.4 èœå•é¡¹è®¾ç½®ç‚¹å‡»åè·³è½¬çš„è·¯ç”±è·¯å¾„</h3><p>el-menu-item æ ‡ç­¾çš„indexå±æ€§å¯ä»¥è®¾ç½®ç‚¹å‡»åçš„è·¯ç”±è·¯å¾„</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/article/category&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Management</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« åˆ†ç±»<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="å…«ã€æ–‡ç« åˆ†ç±»åˆ—è¡¨"><a href="#å…«ã€æ–‡ç« åˆ†ç±»åˆ—è¡¨" class="headerlink" title="å…«ã€æ–‡ç« åˆ†ç±»åˆ—è¡¨"></a>å…«ã€æ–‡ç« åˆ†ç±»åˆ—è¡¨</h1><h3 id="8-1-æ–‡ç« åˆ†ç±»ç»„ä»¶"><a href="#8-1-æ–‡ç« åˆ†ç±»ç»„ä»¶" class="headerlink" title="8.1 æ–‡ç« åˆ†ç±»ç»„ä»¶"></a>8.1 æ–‡ç« åˆ†ç±»ç»„ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Edit</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Delete</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> categorys = <span class="title function_">ref</span>([</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;ç¾é£Ÿ&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;my&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:06:59&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:06:59&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">4</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;å¨±ä¹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;yl&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:16&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:16&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;å†›äº‹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;js&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:33&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:33&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">])</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">header</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« åˆ†ç±»<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;extra&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æ·»åŠ åˆ†ç±»<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;categorys&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åºå·&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">type</span>=<span class="string">&quot;index&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»åç§°&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»åˆ«å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryAlias&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ“ä½œ&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;&#123; row &#125;&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> #<span class="attr">empty</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-empty</span> <span class="attr">description</span>=<span class="string">&quot;æ²¡æœ‰æ•°æ®&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.page-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">min-height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="8-2-åˆ—è¡¨æ¥å£è°ƒç”¨"><a href="#8-2-åˆ—è¡¨æ¥å£è°ƒç”¨" class="headerlink" title="8.2 åˆ—è¡¨æ¥å£è°ƒç”¨"></a>8.2 åˆ—è¡¨æ¥å£è°ƒç”¨</h3><p>src/api/article.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥è¯·æ±‚å·¥å…·ç±»</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–‡ç« åˆ†ç±»åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryListService</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/category&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ArticleCategory.vue</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–æ‰€æœ‰æ–‡ç« åˆ†ç±»æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> &#123; articleCategoryListService &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/article.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getAllCategory</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleCategoryListService</span>();</span><br><span class="line">    categorys.<span class="property">value</span> = result.<span class="property">data</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getAllCategory</span>();</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ä¸Šè¿°çš„ä»£ç å¹¶ä¸èƒ½çœŸæ­£çš„è·å–åˆ°æ‰€æœ‰æ–‡ç« åˆ†ç±»æ•°æ®ï¼ŒæœåŠ¡å™¨å“åº”çŠ¶æ€ç ä¸º401ï¼Œå› ä¸ºç›®å‰è¯·æ±‚å¤´ä¸­å¹¶æ²¡æœ‰æºå¸¦token</p>
<h1 id="ä¹ã€PiniaçŠ¶æ€ç®¡ç†åº“"><a href="#ä¹ã€PiniaçŠ¶æ€ç®¡ç†åº“" class="headerlink" title="ä¹ã€PiniaçŠ¶æ€ç®¡ç†åº“"></a>ä¹ã€PiniaçŠ¶æ€ç®¡ç†åº“</h1><p>Piniaæ˜¯Vueçš„ä¸“å±çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒå…è®¸ä½ è·¨ç»„ä»¶æˆ–é¡µé¢å…±äº«çŠ¶æ€</p>
<h3 id="9-1å®‰è£…"><a href="#9-1å®‰è£…" class="headerlink" title="9.1å®‰è£…"></a>9.1å®‰è£…</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia</span><br></pre></td></tr></table></figure>
<h3 id="9-2ä½¿ç”¨Pinia"><a href="#9-2ä½¿ç”¨Pinia" class="headerlink" title="9.2ä½¿ç”¨Pinia"></a>9.2ä½¿ç”¨Pinia</h3><p>åœ¨main.jsä¸­ï¼Œå¼•å…¥piniaï¼Œåˆ›å»ºpiniaå®ä¾‹ï¼Œå¹¶è°ƒç”¨vueåº”ç”¨å®ä¾‹çš„useæ–¹æ³•ä½¿ç”¨pinia</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br></pre></td></tr></table></figure>
<h3 id="9-3-å®šä¹‰Store"><a href="#9-3-å®šä¹‰Store" class="headerlink" title="9.3 å®šä¹‰Store"></a>9.3 å®šä¹‰Store</h3><p>åœ¨src/storesç›®å½•ä¸‹å®šä¹‰token.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    defineStoreå‚æ•°æè¿°ï¼š</span></span><br><span class="line"><span class="comment">        ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç»™çŠ¶æ€èµ·åï¼Œå…·æœ‰å”¯ä¸€æ€§</span></span><br><span class="line"><span class="comment">        ç¬¬äºŒä¸ªå‚æ•°ï¼šå‡½æ•°ï¼Œå¯ä»¥æŠŠå®šä¹‰è¯¥çŠ¶æ€ä¸­æ‹¥æœ‰çš„å†…å®¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    defineStoreè¿”å›å€¼æè¿°ï¼š</span></span><br><span class="line"><span class="comment">        è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°†æ¥å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¾—åˆ°ç¬¬äºŒä¸ªå‚æ•°ä¸­è¿”å›çš„å†…å®¹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTokenStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;token&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//1.å®šä¹‰æè¿°token</span></span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.å®šä¹‰ä¿®æ”¹tokençš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setToken</span> = (<span class="params">newToken</span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span> = newToken</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.å®šä¹‰ç§»é™¤tokençš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeToken</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        token,setToken,removeToken</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="9-4-ä½¿ç”¨Store"><a href="#9-4-ä½¿ç”¨Store" class="headerlink" title="9.4 ä½¿ç”¨Store"></a>9.4 ä½¿ç”¨Store</h3><p>åœ¨éœ€è¦ä½¿ç”¨çŠ¶æ€çš„åœ°æ–¹ï¼Œå¯¼å…¥@/stores/*.js , ä½¿ç”¨å³å¯</p>
<p>åœ¨Login.vueä¸­å¯¼å…¥@/stores/token.js, å¹¶ä¸”å½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œå°†tokenä¿å­˜piniaä¸­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥tokençŠ¶æ€</span></span><br><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨useTokenStoreå¾—åˆ°çŠ¶æ€</span></span><br><span class="line"><span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºç™»å½•çš„äº‹ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">loginService</span>(registerData.<span class="property">value</span>)</span><br><span class="line">    <span class="comment">//ä¿å­˜token</span></span><br><span class="line">    tokenStore.<span class="title function_">setToken</span>(result.<span class="property">data</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ!&#x27;</span>)</span><br><span class="line">    router.<span class="title function_">push</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨article.jsä¸­å¯¼å…¥@/stores/token.js, ä»piniaä¸­è·å–åˆ°å­˜å‚¨çš„tokenï¼Œåœ¨å‘èµ·æŸ¥è¯¢æ–‡ç« åˆ†ç±»åˆ—è¡¨çš„æ—¶å€™æŠŠtokené€šè¿‡è¯·æ±‚å¤´çš„å½¢å¼æºå¸¦ç»™æœåŠ¡å™¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥@/stores/token.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;../stores/token&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–‡ç« åˆ†ç±»åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryListService</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//è·å–tokençŠ¶æ€</span></span><br><span class="line">    <span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>()</span><br><span class="line">    <span class="comment">//é€šè¿‡è¯·æ±‚å¤´Authorizationæºå¸¦token</span></span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/category&#x27;</span>, &#123; <span class="attr">headers</span>: &#123; <span class="string">&#x27;Authorization&#x27;</span>: tokenStore.<span class="property">token</span> &#125; &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="åã€axiosè¯·æ±‚æ‹¦æˆªå™¨"><a href="#åã€axiosè¯·æ±‚æ‹¦æˆªå™¨" class="headerlink" title="åã€axiosè¯·æ±‚æ‹¦æˆªå™¨"></a>åã€axiosè¯·æ±‚æ‹¦æˆªå™¨</h1><p>å½“è¿›å…¥ä¸»é¡µåï¼Œå°†æ¥è¦ä¸åå°äº¤äº’ï¼Œéƒ½éœ€è¦æºå¸¦tokenï¼Œå¦‚æœæ¯æ¬¡è¯·æ±‚éƒ½å†™è¿™æ ·çš„ä»£ç ï¼Œå°†ä¼šæ¯”è¾ƒç¹çï¼Œæ­¤æ—¶å¯ä»¥å°†æºå¸¦tokençš„ä»£ç é€šè¿‡è¯·æ±‚æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†</p>
<p>åœ¨ src/util/request.jsä¸­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥tokençŠ¶æ€</span></span><br><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span>;</span><br><span class="line"><span class="comment">//æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function">(<span class="params">config</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">let</span> tokenStore = <span class="title function_">useTokenStore</span>()</span><br><span class="line">        <span class="comment">//å¦‚æœtokenä¸­æœ‰å€¼ï¼Œåœ¨æºå¸¦</span></span><br><span class="line">        <span class="keyword">if</span>(tokenStore.<span class="property">token</span>)&#123;</span><br><span class="line">            config.<span class="property">headers</span>.<span class="property">Authorization</span>=tokenStore.<span class="property">token</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> config</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœè¯·æ±‚é”™è¯¯åšä»€ä¹ˆ</span></span><br><span class="line">        <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="åä¸€ã€PiniaæŒä¹…åŒ–æ’ä»¶"><a href="#åä¸€ã€PiniaæŒä¹…åŒ–æ’ä»¶" class="headerlink" title="åä¸€ã€PiniaæŒä¹…åŒ–æ’ä»¶"></a>åä¸€ã€PiniaæŒä¹…åŒ–æ’ä»¶</h1><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç”±äºpiniaæ˜¯å†…å­˜å­˜å‚¨ï¼Œå½“ä½ åˆ·æ–°é¡µé¢çš„æ—¶å€™piniaä¸­çš„æ•°æ®ä¼šä¸¢å¤±ï¼Œå¯ä»¥å€ŸåŠ©äºpersistæ’ä»¶è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œpersistæ’ä»¶æ”¯æŒå°†piniaä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°sessionStorageå’ŒlocalStorageä¸­</p>
<h3 id="11-1-å®‰è£…persistæ’ä»¶"><a href="#11-1-å®‰è£…persistæ’ä»¶" class="headerlink" title="11.1 å®‰è£…persistæ’ä»¶"></a>11.1 å®‰è£…persistæ’ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia-persistedstate-plugin</span><br></pre></td></tr></table></figure>
<h3 id="11-2-piniaä¸­ä½¿ç”¨persistæ’ä»¶"><a href="#11-2-piniaä¸­ä½¿ç”¨persistæ’ä»¶" class="headerlink" title="11.2 piniaä¸­ä½¿ç”¨persistæ’ä»¶"></a>11.2 piniaä¸­ä½¿ç”¨persistæ’ä»¶</h3><p>åœ¨main.jsä¸­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="comment">//å¯¼å…¥æŒä¹…åŒ–æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123;createPersistedState&#125; <span class="keyword">from</span><span class="string">&#x27;pinia-persistedstate-plugin&#x27;</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"><span class="keyword">const</span> persist = <span class="title function_">createPersistedState</span>()</span><br><span class="line"><span class="comment">//piniaä½¿ç”¨æŒä¹…åŒ–æ’ä»¶</span></span><br><span class="line">pinia.<span class="title function_">use</span>(persist)</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br></pre></td></tr></table></figure>
<h3 id="11-3-åœ¨åˆ›å»ºå®šä¹‰çŠ¶æ€æ˜¯é…ç½®æŒä¹…åŒ–"><a href="#11-3-åœ¨åˆ›å»ºå®šä¹‰çŠ¶æ€æ˜¯é…ç½®æŒä¹…åŒ–" class="headerlink" title="11.3 åœ¨åˆ›å»ºå®šä¹‰çŠ¶æ€æ˜¯é…ç½®æŒä¹…åŒ–"></a>11.3 åœ¨åˆ›å»ºå®šä¹‰çŠ¶æ€æ˜¯é…ç½®æŒä¹…åŒ–</h3><p>åœ¨src/stores/token.jsä¸­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTokenStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;token&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//1.å®šä¹‰æè¿°token</span></span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.å®šä¹‰ä¿®æ”¹tokençš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setToken</span> = (<span class="params">newToken</span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span> = newToken</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.å®šä¹‰ç§»é™¤tokençš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeToken</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        token,setToken,removeToken</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">,</span><br><span class="line"><span class="comment">//å‚æ•°æŒä¹…åŒ–</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">persist</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="åäºŒã€æœªç™»å½•ç»Ÿä¸€å¤„ç†"><a href="#åäºŒã€æœªç™»å½•ç»Ÿä¸€å¤„ç†" class="headerlink" title="åäºŒã€æœªç™»å½•ç»Ÿä¸€å¤„ç†"></a>åäºŒã€æœªç™»å½•ç»Ÿä¸€å¤„ç†</h1><p>åœ¨åç»­è®¿é—®æ¥å£æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç™»å½•ï¼Œåˆ™å‰ç«¯ä¸æºå¸¦tokenï¼Œåå°æœåŠ¡å™¨ä¼šè¿”å›å“åº”çŠ¶æ€ç 401ï¼Œä»£è¡¨æœªç™»å½•ï¼Œæ­¤æ—¶å¯ä»¥åœ¨axiosçš„å“åº”æ‹¦æˆªå™¨ä¸­ï¼Œç»Ÿä¸€å¯¹æœªç™»å½•çš„æƒ…å†µåšå¤„ç†</p>
<p><strong>request.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœä¸šåŠ¡çŠ¶æ€ç ä¸º0ï¼Œä»£è¡¨æœ¬æ¬¡æ“ä½œæˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> (result.<span class="property">data</span>.<span class="property">code</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result.<span class="property">data</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä»£ç èµ°åˆ°è¿™é‡Œï¼Œä»£è¡¨ä¸šåŠ¡çŠ¶æ€ç ä¸æ˜¯0ï¼Œæœ¬æ¬¡æ“ä½œå¤±è´¥</span></span><br><span class="line">        <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">data</span>.<span class="property">message</span> || <span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(result.<span class="property">data</span>);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœå“åº”çŠ¶æ€ç æ—¶401ï¼Œä»£è¡¨æœªç™»å½•ï¼Œç»™å‡ºå¯¹åº”çš„æç¤ºï¼Œå¹¶è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">        <span class="keyword">if</span>(err.<span class="property">response</span>.<span class="property">status</span>===<span class="number">401</span>)&#123;</span><br><span class="line">            <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;è¯·å…ˆç™»å½•ï¼&#x27;</span>)</span><br><span class="line">            router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;æœåŠ¡å¼‚å¸¸&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err);<span class="comment">//å¼‚æ­¥çš„çŠ¶æ€è½¬åŒ–æˆå¤±è´¥çš„çŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="åä¸‰ã€æ·»åŠ æ–‡ç« åˆ†ç±»"><a href="#åä¸‰ã€æ·»åŠ æ–‡ç« åˆ†ç±»" class="headerlink" title="åä¸‰ã€æ·»åŠ æ–‡ç« åˆ†ç±»"></a>åä¸‰ã€æ·»åŠ æ–‡ç« åˆ†ç±»</h1><h3 id="13-1-æ·»åŠ åˆ†ç±»å¼¹çª—é¡µé¢"><a href="#13-1-æ·»åŠ åˆ†ç±»å¼¹çª—é¡µé¢" class="headerlink" title="13.1 æ·»åŠ åˆ†ç±»å¼¹çª—é¡µé¢"></a>13.1 æ·»åŠ åˆ†ç±»å¼¹çª—é¡µé¢</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ·»åŠ åˆ†ç±»å¼¹çª— --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialogVisible&quot;</span> <span class="attr">title</span>=<span class="string">&quot;æ·»åŠ å¼¹å±‚&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;categoryModel&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;100px&quot;</span> <span class="attr">style</span>=<span class="string">&quot;padding-right: 30px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»åç§°&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryName&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;categoryModel.categoryName&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;1&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»åˆ«å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryAlias&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;categoryModel.categoryAlias&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;1&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;15&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>å–æ¶ˆ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span> ç¡®è®¤ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="13-2-æ•°æ®æ¨¡å‹å’Œæ ¡éªŒè§„åˆ™"><a href="#13-2-æ•°æ®æ¨¡å‹å’Œæ ¡éªŒè§„åˆ™" class="headerlink" title="13.2 æ•°æ®æ¨¡å‹å’Œæ ¡éªŒè§„åˆ™"></a>13.2 æ•°æ®æ¨¡å‹å’Œæ ¡éªŒè§„åˆ™</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ§åˆ¶æ·»åŠ åˆ†ç±»å¼¹çª—</span></span><br><span class="line"><span class="keyword">const</span> dialogVisible = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ åˆ†ç±»æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> categoryModel = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">categoryName</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">categoryAlias</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//æ·»åŠ åˆ†ç±»è¡¨å•æ ¡éªŒ</span></span><br><span class="line"><span class="keyword">const</span> rules = &#123;</span><br><span class="line">    <span class="attr">categoryName</span>: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥åˆ†ç±»åç§°&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">categoryAlias</span>: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥åˆ†ç±»åˆ«å&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-3-æ·»åŠ åˆ†ç±»æŒ‰é’®å•å‡»äº‹ä»¶"><a href="#13-3-æ·»åŠ åˆ†ç±»æŒ‰é’®å•å‡»äº‹ä»¶" class="headerlink" title="13.3 æ·»åŠ åˆ†ç±»æŒ‰é’®å•å‡»äº‹ä»¶"></a>13.3 æ·»åŠ åˆ†ç±»æŒ‰é’®å•å‡»äº‹ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = true&quot;</span>&gt;</span>æ·»åŠ åˆ†ç±»<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="13-4-æ¥å£è°ƒç”¨"><a href="#13-4-æ¥å£è°ƒç”¨" class="headerlink" title="13.4 æ¥å£è°ƒç”¨"></a>13.4 æ¥å£è°ƒç”¨</h3><p><strong>åœ¨article.jsä¸­æä¾›æ·»åŠ åˆ†ç±»çš„å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ æ–‡ç« åˆ†ç±»</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryAddService</span> = (<span class="params">categoryModel</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/category&#x27;</span>, categoryModel)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>åœ¨é¡µé¢ä¸­è°ƒç”¨æ¥å£</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¿é—®åå°ï¼Œæ·»åŠ æ–‡ç« åˆ†ç±»</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addCategory</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleCategoryAddService</span>(categoryModel.<span class="property">value</span>);</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;æ·»åŠ æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//éšè—å¼¹çª—</span></span><br><span class="line">    dialogVisible.<span class="property">value</span> = <span class="literal">false</span></span><br><span class="line">    <span class="comment">//å†æ¬¡è®¿é—®åå°æ¥å£ï¼ŒæŸ¥è¯¢æ‰€æœ‰åˆ†ç±»</span></span><br><span class="line">    <span class="title function_">getAllCategory</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addCategory&quot;</span>&gt;</span> ç¡®è®¤ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="åå››ã€ä¿®æ”¹æ–‡ç« åˆ†ç±»"><a href="#åå››ã€ä¿®æ”¹æ–‡ç« åˆ†ç±»" class="headerlink" title="åå››ã€ä¿®æ”¹æ–‡ç« åˆ†ç±»"></a>åå››ã€ä¿®æ”¹æ–‡ç« åˆ†ç±»</h1><h3 id="14-1-ä¿®æ”¹åˆ†ç±»å¼¹çª—é¡µé¢"><a href="#14-1-ä¿®æ”¹åˆ†ç±»å¼¹çª—é¡µé¢" class="headerlink" title="14.1 ä¿®æ”¹åˆ†ç±»å¼¹çª—é¡µé¢"></a>14.1 ä¿®æ”¹åˆ†ç±»å¼¹çª—é¡µé¢</h3><p>ä¿®æ”¹åˆ†ç±»å¼¹çª—å’Œæ–°å¢æ–‡ç« åˆ†ç±»å¼¹çª—é•¿çš„ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥æœç”¨æ·»åŠ åˆ†ç±»çš„å¼¹çª—</p>
<p><strong>å¼¹çª—æ ‡é¢˜æ˜¾ç¤º</strong><br>å®šä¹‰æ ‡é¢˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼¹çª—æ ‡é¢˜</span></span><br><span class="line"><span class="keyword">const</span> title=<span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>åœ¨å¼¹çª—ä¸Šç»‘å®šæ ‡é¢˜</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialogVisible&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;title&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºæ·»åŠ åˆ†ç±»æŒ‰é’®ç»‘å®šäº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;title=&#x27;æ·»åŠ åˆ†ç±»&#x27;;dialogVisible = true&quot;</span>&gt;</span>æ·»åŠ åˆ†ç±»<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºä¿®æ”¹åˆ†ç±»æŒ‰é’®ç»‘å®šäº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;title=&#x27;ä¿®æ”¹åˆ†ç±»&#x27;;dialogVisible=true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="14-2-æ•°æ®å›æ˜¾"><a href="#14-2-æ•°æ®å›æ˜¾" class="headerlink" title="14.2 æ•°æ®å›æ˜¾"></a>14.2 æ•°æ®å›æ˜¾</h3><p>å½“ç‚¹å‡»ä¿®æ”¹åˆ†ç±»æŒ‰é’®æ—¶ï¼Œéœ€è¦æŠŠå½“å‰è¿™ä¸€æ¡æ•°æ®çš„è¯¦ç»†ä¿¡æ¯æ˜¾ç¤ºåˆ°ä¿®æ”¹åˆ†ç±»çš„å¼¹çª—ä¸Šï¼Œè¿™ä¸ªå«å›æ˜¾</p>
<p><strong>é€šè¿‡æ’æ§½çš„æ–¹å¼å¾—åˆ°è¢«ç‚¹å‡»æŒ‰é’®æ‰€åœ¨è¡Œçš„æ•°æ®</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;&#123; row &#125;&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateCategoryEcho(row)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>å›æ˜¾å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹åˆ†ç±»å›æ˜¾</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateCategoryEcho</span> = (<span class="params">row</span>) =&gt; &#123;</span><br><span class="line">    title.<span class="property">value</span> = <span class="string">&#x27;ä¿®æ”¹åˆ†ç±»&#x27;</span></span><br><span class="line">    dialogVisible.<span class="property">value</span> = <span class="literal">true</span></span><br><span class="line">    <span class="comment">//å°†rowä¸­çš„æ•°æ®èµ‹å€¼ç»™categoryModel</span></span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">categoryName</span>=row.<span class="property">categoryName</span></span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">categoryAlias</span>=row.<span class="property">categoryAlias</span></span><br><span class="line">    <span class="comment">//ä¿®æ”¹çš„æ—¶å€™å¿…é¡»ä¼ é€’åˆ†ç±»çš„idï¼Œæ‰€ä»¥æ‰©å±•ä¸€ä¸ªidå±æ€§</span></span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">id</span>=row.<span class="property">id</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="14-3-æ¥å£è°ƒç”¨"><a href="#14-3-æ¥å£è°ƒç”¨" class="headerlink" title="14.3 æ¥å£è°ƒç”¨"></a>14.3 æ¥å£è°ƒç”¨</h3><p><strong>article.jsä¸­æä¾›ä¿®æ”¹åˆ†ç±»çš„å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹åˆ†ç±»</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryUpdateService</span> = (<span class="params">categoryModel</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">put</span>(<span class="string">&#x27;/category&#x27;</span>,categoryModel)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¿®æ”¹ç¡®å®šæŒ‰é’®çš„ç»‘å®šäº‹ä»¶</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>å–æ¶ˆ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;title===&#x27;æ·»åŠ åˆ†ç±»&#x27;? addCategory():updateCategory()&quot;</span>&gt;</span> ç¡®è®¤ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>è°ƒç”¨æ¥å£å®Œæˆä¿®æ”¹çš„å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹åˆ†ç±»</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateCategory</span>=<span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleCategoryUpdateService</span>(categoryModel.<span class="property">value</span>)</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;ä¿®æ”¹æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//éšè—å¼¹çª—</span></span><br><span class="line">    dialogVisible.<span class="property">value</span>=<span class="literal">false</span></span><br><span class="line">    <span class="comment">//å†æ¬¡è®¿é—®åå°æ¥å£ï¼ŒæŸ¥è¯¢æ‰€æœ‰åˆ†ç±»</span></span><br><span class="line">    <span class="title function_">getAllCategory</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±äºç°åœ¨ä¿®æ”¹å’Œæ–°å¢å…±ç”¨äº†ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œæ‰€ä»¥åœ¨ç‚¹å‡»æ·»åŠ åˆ†ç±»åï¼Œæœ‰æ—¶å€™ä¼šæ˜¾ç¤ºæ•°æ®ï¼Œæ­¤æ—¶å¯ä»¥å°†categoryModelä¸­çš„æ•°æ®æ¸…ç©º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¸…ç©ºæ¨¡å‹æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">clearCategoryModel</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">categoryName</span>=<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    categoryModel.<span class="property">value</span>.<span class="property">categoryAlias</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹æ·»åŠ æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;title = &#x27;æ·»åŠ åˆ†ç±»&#x27;; dialogVisible = true;clearCategoryModel()&quot;</span>&gt;</span>æ·»åŠ åˆ†ç±»<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="åäº”ã€åˆ é™¤åˆ†ç±»ï¼ˆåå°éœ€è¦è¡¥é½ï¼‰"><a href="#åäº”ã€åˆ é™¤åˆ†ç±»ï¼ˆåå°éœ€è¦è¡¥é½ï¼‰" class="headerlink" title="åäº”ã€åˆ é™¤åˆ†ç±»ï¼ˆåå°éœ€è¦è¡¥é½ï¼‰"></a>åäº”ã€åˆ é™¤åˆ†ç±»ï¼ˆåå°éœ€è¦è¡¥é½ï¼‰</h1><h3 id="15-1-ç¡®è®¤æ¡†"><a href="#15-1-ç¡®è®¤æ¡†" class="headerlink" title="15.1 ç¡®è®¤æ¡†"></a>15.1 ç¡®è®¤æ¡†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤åˆ†ç±»  ç»™åˆ é™¤æŒ‰é’®ç»‘å®šäº‹ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteCategory</span> = (<span class="params">row</span>) =&gt; &#123;</span><br><span class="line">    <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(</span><br><span class="line">        <span class="string">&#x27;ä½ ç¡®è®¤åˆ é™¤è¯¥åˆ†ç±»ä¿¡æ¯å—ï¼Ÿ&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®è®¤&#x27;</span>,</span><br><span class="line">            <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤</span></span><br><span class="line">            <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">                <span class="attr">message</span>: <span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†å–æ¶ˆ</span></span><br><span class="line">            <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">                <span class="attr">message</span>: <span class="string">&#x27;å–æ¶ˆåˆ é™¤&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="15-2-æ¥å£è°ƒç”¨"><a href="#15-2-æ¥å£è°ƒç”¨" class="headerlink" title="15.2 æ¥å£è°ƒç”¨"></a>15.2 æ¥å£è°ƒç”¨</h3><p><strong>article.jsä¸­æä¾›åˆ é™¤åˆ†ç±»çš„å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤åˆ†ç±»</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleCategoryDeleteService</span> = (<span class="params">id</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">delete</span>(<span class="string">&#x27;/category?id=&#x27;</span>+id)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å½“ç”¨æˆ·ç‚¹å‡»ç¡®è®¤åï¼Œè°ƒç”¨æ¥å£åˆ é™¤åˆ†ç±»</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤åˆ†ç±»</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteCategory</span> = (<span class="params">row</span>) =&gt; &#123;</span><br><span class="line">    <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(</span><br><span class="line">        <span class="string">&#x27;ä½ ç¡®è®¤åˆ é™¤è¯¥åˆ†ç±»ä¿¡æ¯å—ï¼Ÿ&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®è®¤&#x27;</span>,</span><br><span class="line">            <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">        .<span class="title function_">then</span>(<span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤</span></span><br><span class="line">            <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleCategoryDeleteService</span>(row.<span class="property">id</span>)</span><br><span class="line">            <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>?result.<span class="property">message</span>:<span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>)</span><br><span class="line">            <span class="comment">//å†æ¬¡è°ƒç”¨getAllCategoryï¼Œè·å–æ‰€æœ‰æ–‡ç« åˆ†ç±»</span></span><br><span class="line">            <span class="title function_">getAllCategory</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†å–æ¶ˆ</span></span><br><span class="line">            <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">                <span class="attr">message</span>: <span class="string">&#x27;å–æ¶ˆåˆ é™¤&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="åå…­ã€æ–‡ç« åˆ—è¡¨"><a href="#åå…­ã€æ–‡ç« åˆ—è¡¨" class="headerlink" title="åå…­ã€æ–‡ç« åˆ—è¡¨"></a>åå…­ã€æ–‡ç« åˆ—è¡¨</h1><h3 id="16-1-æ–‡ç« åˆ—è¡¨é¡µé¢ç»„ä»¶"><a href="#16-1-æ–‡ç« åˆ—è¡¨é¡µé¢ç»„ä»¶" class="headerlink" title="16.1 æ–‡ç« åˆ—è¡¨é¡µé¢ç»„ä»¶"></a>16.1 æ–‡ç« åˆ—è¡¨é¡µé¢ç»„ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Edit</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Delete</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//æ–‡ç« åˆ†ç±»æ•°æ®æ¨¡å‹</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> categorys = <span class="title function_">ref</span>([</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;ç¾é£Ÿ&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;my&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:06:59&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:06:59&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">4</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;å¨±ä¹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;yl&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:16&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:16&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryName&quot;</span>: <span class="string">&quot;å†›äº‹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryAlias&quot;</span>: <span class="string">&quot;js&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:33&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-02 12:08:33&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">])</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//ç”¨æˆ·æœç´¢æ—¶é€‰ä¸­çš„åˆ†ç±»id</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> categoryId=<span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//ç”¨æˆ·æœç´¢æ—¶é€‰ä¸­çš„å‘å¸ƒçŠ¶æ€</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> state=<span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//æ–‡ç« åˆ—è¡¨æ•°æ®æ¨¡å‹</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> articles = <span class="title function_">ref</span>([</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;é™•è¥¿æ—…æ¸¸æ”»ç•¥&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;å…µé©¬ä¿‘,åæ¸…æ± ,æ³•é—¨å¯º,åå±±...çˆ±å»å“ªå»å“ª...&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;coverImg&quot;</span>: <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;state&quot;</span>: <span class="string">&quot;è‰ç¨¿&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryId&quot;</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;é™•è¥¿æ—…æ¸¸æ”»ç•¥&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;å…µé©¬ä¿‘,åæ¸…æ± ,æ³•é—¨å¯º,åå±±...çˆ±å»å“ªå»å“ª...&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;coverImg&quot;</span>: <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;state&quot;</span>: <span class="string">&quot;è‰ç¨¿&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryId&quot;</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;id&quot;</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;é™•è¥¿æ—…æ¸¸æ”»ç•¥&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;å…µé©¬ä¿‘,åæ¸…æ± ,æ³•é—¨å¯º,åå±±...çˆ±å»å“ªå»å“ª...&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;coverImg&quot;</span>: <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;state&quot;</span>: <span class="string">&quot;è‰ç¨¿&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;categoryId&quot;</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2023-09-03 11:55:30&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">])</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//åˆ†é¡µæ¡æ•°æ®æ¨¡å‹</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> pageNum = <span class="title function_">ref</span>(<span class="number">1</span>)<span class="comment">//å½“å‰é¡µ</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> total = <span class="title function_">ref</span>(<span class="number">20</span>)<span class="comment">//æ€»æ¡æ•°</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> pageSize = <span class="title function_">ref</span>(<span class="number">3</span>)<span class="comment">//æ¯é¡µæ¡æ•°</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//å½“æ¯é¡µæ¡æ•°å‘ç”Ÿäº†å˜åŒ–ï¼Œè°ƒç”¨æ­¤å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">onSizeChange</span> = (<span class="params">size</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    pageSize.<span class="property">value</span> = size</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">//å½“å‰é¡µç å‘ç”Ÿå˜åŒ–ï¼Œè°ƒç”¨æ­¤å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">onCurrentChange</span> = (<span class="params">num</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    pageNum.<span class="property">value</span> = num</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">header</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« ç®¡ç†<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;extra&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æ·»åŠ æ–‡ç« <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æœç´¢è¡¨å• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">inline</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« åˆ†ç±»ï¼š&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;categoryId&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> </span></span><br><span class="line"><span class="tag">                        <span class="attr">v-for</span>=<span class="string">&quot;c in categorys&quot;</span> </span></span><br><span class="line"><span class="tag">                        <span class="attr">:key</span>=<span class="string">&quot;c.id&quot;</span> </span></span><br><span class="line"><span class="tag">                        <span class="attr">:label</span>=<span class="string">&quot;c.categoryName&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">:value</span>=<span class="string">&quot;c.id&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å‘å¸ƒçŠ¶æ€ï¼š&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;state&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;å·²å‘å¸ƒ&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å·²å‘å¸ƒ&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;è‰ç¨¿&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è‰ç¨¿&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ–‡ç« åˆ—è¡¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;articles&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« æ ‡é¢˜&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åˆ†ç±»&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;categoryId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;å‘è¡¨æ—¶é—´&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;createTime&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;çŠ¶æ€&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;state&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ“ä½œ&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;&#123; row &#125;&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> #<span class="attr">empty</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-empty</span> <span class="attr">description</span>=<span class="string">&quot;æ²¡æœ‰æ•°æ®&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åˆ†é¡µæ¡ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-pagination</span> <span class="attr">v-model:current-page</span>=<span class="string">&quot;pageNum&quot;</span> <span class="attr">v-model:page-size</span>=<span class="string">&quot;pageSize&quot;</span> <span class="attr">:page-sizes</span>=<span class="string">&quot;[3, 5 ,10, 15]&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">layout</span>=<span class="string">&quot;jumper, total, sizes, prev, pager, next&quot;</span> <span class="attr">background</span> <span class="attr">:total</span>=<span class="string">&quot;total&quot;</span> @<span class="attr">size-change</span>=<span class="string">&quot;onSizeChange&quot;</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">current-change</span>=<span class="string">&quot;onCurrentChange&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 20px; justify-content: flex-end&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.page-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">min-height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ä¸­æ–‡è¯­è¨€åŒ…ï¼Œè§£å†³åˆ†é¡µæ¡ä¸­æ–‡é—®é¢˜, åœ¨main.jsä¸­å®Œæˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> locale <span class="keyword">from</span> <span class="string">&#x27;element-plus/dist/locale/zh-cn.js&#x27;</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>,&#123;locale&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="16-2ã€æ–‡ç« åˆ†ç±»æ•°æ®å›æ˜¾"><a href="#16-2ã€æ–‡ç« åˆ†ç±»æ•°æ®å›æ˜¾" class="headerlink" title="16.2ã€æ–‡ç« åˆ†ç±»æ•°æ®å›æ˜¾"></a>16.2ã€æ–‡ç« åˆ†ç±»æ•°æ®å›æ˜¾</h3><p><strong>ArticleMange.vue</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–‡ç« åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">import</span> &#123; articleCategoryListService &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/article.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getArticleCategoryList</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//è·å–æ‰€æœ‰åˆ†ç±»</span></span><br><span class="line">    <span class="keyword">let</span> resultC = <span class="keyword">await</span> <span class="title function_">articleCategoryListService</span>();</span><br><span class="line">    categorys.<span class="property">value</span> = resultC.<span class="property">data</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getArticleCategoryList</span>();</span><br></pre></td></tr></table></figure>
<h1 id=""><a href="#" class="headerlink" title=" "></a> </h1><h1 id="åä¸ƒã€-æ–‡ç« åˆ—è¡¨æ¥å£è°ƒç”¨"><a href="#åä¸ƒã€-æ–‡ç« åˆ—è¡¨æ¥å£è°ƒç”¨" class="headerlink" title="åä¸ƒã€ æ–‡ç« åˆ—è¡¨æ¥å£è°ƒç”¨"></a>åä¸ƒã€ æ–‡ç« åˆ—è¡¨æ¥å£è°ƒç”¨</h1><p><strong>article.jsä¸­æä¾›è·å–æ–‡ç« åˆ—è¡¨æ•°æ®çš„å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–‡ç« åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleListService</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/article&#x27;</span>, &#123; <span class="attr">params</span>: params &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ArticleManage.vueä¸­ï¼Œè°ƒç”¨æ¥å£è·å–æ•°æ®</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–‡ç« åˆ—è¡¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">import</span> &#123; articleListService &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/article.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getArticles</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> params = &#123;</span><br><span class="line">        <span class="attr">pageNum</span>: pageNum.<span class="property">value</span>,</span><br><span class="line">        <span class="attr">pageSize</span>: pageSize.<span class="property">value</span>,</span><br><span class="line">        <span class="attr">categoryId</span>: categoryId.<span class="property">value</span> ? categoryId.<span class="property">value</span> : <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">state</span>: state.<span class="property">value</span> ? state.<span class="property">value</span> : <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleListService</span>(params);</span><br><span class="line">    <span class="comment">//æ¸²æŸ“åˆ—è¡¨æ•°æ®</span></span><br><span class="line">    articles.<span class="property">value</span> = result.<span class="property">data</span>.<span class="property">items</span></span><br><span class="line">    <span class="comment">//ä¸ºåˆ—è¡¨ä¸­æ·»åŠ categoryNameå±æ€§</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;articles.<span class="property">value</span>.<span class="property">length</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">let</span> article = articles.<span class="property">value</span>[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>;j&lt;categorys.<span class="property">value</span>.<span class="property">length</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(article.<span class="property">categoryId</span>===categorys.<span class="property">value</span>[j].<span class="property">id</span>)&#123;</span><br><span class="line">                article.<span class="property">categoryName</span>=categorys.<span class="property">value</span>[j].<span class="property">categoryName</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ¸²æŸ“æ€»æ¡æ•°</span></span><br><span class="line">    total.<span class="property">value</span>=result.<span class="property">data</span>.<span class="property">total</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getArticles</span>()</span><br></pre></td></tr></table></figure>
<p><strong>å½“åˆ†é¡µæ¡çš„å½“å‰é¡µå’Œæ¯é¡µæ¡æ•°å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°å‘é€è¯·æ±‚è·å–æ•°æ®</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å½“æ¯é¡µæ¡æ•°å‘ç”Ÿäº†å˜åŒ–ï¼Œè°ƒç”¨æ­¤å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onSizeChange</span> = (<span class="params">size</span>) =&gt; &#123;</span><br><span class="line">    pageSize.<span class="property">value</span> = size</span><br><span class="line">    <span class="title function_">getArticles</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å½“å‰é¡µç å‘ç”Ÿå˜åŒ–ï¼Œè°ƒç”¨æ­¤å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onCurrentChange</span> = (<span class="params">num</span>) =&gt; &#123;</span><br><span class="line">    pageNum.<span class="property">value</span> = num</span><br><span class="line">    <span class="title function_">getArticles</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="åå…«ã€æœç´¢å’Œé‡ç½®"><a href="#åå…«ã€æœç´¢å’Œé‡ç½®" class="headerlink" title="åå…«ã€æœç´¢å’Œé‡ç½®"></a>åå…«ã€æœç´¢å’Œé‡ç½®</h1><p>ä¸ºæœç´¢æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶ï¼Œè°ƒç”¨getArticleså‡½æ•°å³å¯</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;getArticles&quot;</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºé‡ç½®æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶ï¼Œæ¸…é™¤categoryIdå’Œstateçš„ä¹‹å³å¯</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;categoryId=&#x27;&#x27;;state=&#x27;&#x27;&quot;</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="åä¹ã€æ·»åŠ æ–‡ç« "><a href="#åä¹ã€æ·»åŠ æ–‡ç« " class="headerlink" title="åä¹ã€æ·»åŠ æ–‡ç« "></a>åä¹ã€æ·»åŠ æ–‡ç« </h1><h3 id="19-1-æ·»åŠ æ–‡ç« æŠ½å±‰ç»„ä»¶"><a href="#19-1-æ·»åŠ æ–‡ç« æŠ½å±‰ç»„ä»¶" class="headerlink" title="19.1 æ·»åŠ æ–‡ç« æŠ½å±‰ç»„ä»¶"></a>19.1 æ·»åŠ æ–‡ç« æŠ½å±‰ç»„ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Plus</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span><br><span class="line"><span class="comment">//æ§åˆ¶æŠ½å±‰æ˜¯å¦æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">const</span> visibleDrawer = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line"><span class="comment">//æ·»åŠ è¡¨å•æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> articleModel = <span class="title function_">ref</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">categoryId</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">coverImg</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">content</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">state</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŠ½å±‰ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-drawer</span> <span class="attr">v-model</span>=<span class="string">&quot;visibleDrawer&quot;</span> <span class="attr">title</span>=<span class="string">&quot;æ·»åŠ æ–‡ç« &quot;</span> <span class="attr">direction</span>=<span class="string">&quot;rtl&quot;</span> <span class="attr">size</span>=<span class="string">&quot;50%&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ·»åŠ æ–‡ç« è¡¨å• --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;articleModel&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;100px&quot;</span> &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« æ ‡é¢˜&quot;</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;articleModel.title&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥æ ‡é¢˜&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« åˆ†ç±»&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;articleModel.categoryId&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;c in categorys&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;c.id&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;c.categoryName&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;c.id&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« å°é¢&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> <span class="attr">:auto-upload</span>=<span class="string">&quot;false&quot;</span> <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;articleModel.coverImg&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;articleModel.coverImg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader-icon&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">Plus</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« å†…å®¹&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;editor&quot;</span>&gt;</span>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>å‘å¸ƒ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>è‰ç¨¿<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-drawer</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æŠ½å±‰æ ·å¼ */</span></span><br><span class="line"><span class="selector-class">.avatar-uploader</span> &#123;</span><br><span class="line">    :<span class="built_in">deep</span>() &#123;</span><br><span class="line">        <span class="selector-class">.avatar</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">178px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">178px</span>;</span><br><span class="line">            <span class="attribute">display</span>: block;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.el-upload</span> &#123;</span><br><span class="line">            <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="built_in">var</span>(--el-border-color);</span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">            <span class="attribute">cursor</span>: pointer;</span><br><span class="line">            <span class="attribute">position</span>: relative;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">            <span class="attribute">transition</span>: <span class="built_in">var</span>(--el-transition-duration-fast);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.el-upload</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">            <span class="attribute">border-color</span>: <span class="built_in">var</span>(--el-color-primary);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.el-icon</span><span class="selector-class">.avatar-uploader-icon</span> &#123;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">28px</span>;</span><br><span class="line">            <span class="attribute">color</span>: <span class="number">#8c939d</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">178px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">178px</span>;</span><br><span class="line">            <span class="attribute">text-align</span>: center;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.editor</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  :<span class="built_in">deep</span>(.ql-editor) &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">200px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºæ·»åŠ æ–‡ç« æŒ‰é’®æ·»åŠ å•å‡»äº‹ä»¶ï¼Œå±•ç¤ºæŠ½å±‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;visibleDrawer = true&quot;</span>&gt;</span>æ·»åŠ æ–‡ç« <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="19-2-å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"><a href="#19-2-å¯Œæ–‡æœ¬ç¼–è¾‘å™¨" class="headerlink" title="19.2 å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"></a>19.2 å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h3><p>æ–‡ç« å†…å®¹éœ€è¦ä½¿ç”¨åˆ°å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¿™é‡Œå’±ä»¬ä½¿ç”¨ä¸€ä¸ªå¼€æºçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ Quill</p>
<p>å®˜ç½‘åœ°å€ï¼š <a target="_blank" rel="noopener" href="https://vueup.github.io/vue-quill/">https://vueup.github.io/vue-quill/</a></p>
<p><strong>å®‰è£…ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @vueup/vue-quill@latest --save</span><br></pre></td></tr></table></figure>
<p><strong>å¯¼å…¥ç»„ä»¶å’Œæ ·å¼ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">QuillEditor</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@vueup/vue-quill&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@vueup/vue-quill/dist/vue-quill.snow.css&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>é¡µé¢é•¿ä½¿ç”¨quillç»„ä»¶ï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">quill-editor</span></span></span><br><span class="line"><span class="tag">              <span class="attr">theme</span>=<span class="string">&quot;snow&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">v-model:content</span>=<span class="string">&quot;articleModel.content&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">contentType</span>=<span class="string">&quot;html&quot;</span></span></span><br><span class="line"><span class="tag">              &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">quill-editor</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ ·å¼ç¾åŒ–ï¼š</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.editor</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  :<span class="built_in">deep</span>(.ql-editor) &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">200px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="19-3-æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ "><a href="#19-3-æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ " class="headerlink" title="19.3 æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ "></a>19.3 æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ </h3><p>å°†æ¥å½“ç‚¹å‡»+å›¾æ ‡ï¼Œé€‰æ‹©æœ¬åœ°å›¾ç‰‡åï¼Œel-uploadè¿™ä¸ªç»„ä»¶ä¼šè‡ªåŠ¨å‘é€è¯·æ±‚ï¼ŒæŠŠå›¾ç‰‡ä¸Šä¼ åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šï¼Œè€Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±ä½¿ç”¨axioså‘é€å¼‚æ­¥è¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦ç»™el-uploadæ ‡ç­¾æ·»åŠ ä¸€äº›å±æ€§ï¼Œæ§åˆ¶è¯·æ±‚çš„å‘é€</p>
<p>auto-upload:æ˜¯å¦è‡ªåŠ¨ä¸Šä¼ </p>
<p>action: æœåŠ¡å™¨æ¥å£è·¯å¾„</p>
<p>name: ä¸Šä¼ çš„æ–‡ä»¶å­—æ®µå</p>
<p>headers: è®¾ç½®ä¸Šä¼ çš„è¯·æ±‚å¤´</p>
<p>on-success: ä¸Šä¼ æˆåŠŸçš„å›è°ƒå‡½æ•°</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123;</span><br><span class="line">    Plus</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ç« å°é¢&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> </span></span><br><span class="line"><span class="tag">               <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span> </span></span><br><span class="line"><span class="tag">               &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;articleModel.coverImg&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;articleModel.coverImg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader-icon&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Plus</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li><p>ç”±äºè¿™ä¸ªè¯·æ±‚æ—¶el-uploadè‡ªåŠ¨å‘é€çš„å¼‚æ­¥è¯·æ±‚ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨å’±ä»¬çš„request.jsè¯·æ±‚å·¥å…·ï¼Œæ‰€ä»¥åœ¨è¯·æ±‚çš„è·¯ingä¸Šï¼Œéœ€è¦åŠ ä¸Š/api, è¿™ä¸ªæ—¶å€™è¯·æ±‚ä»£ç†æ‰èƒ½æ‹¦æˆªåˆ°è¿™ä¸ªè¯·æ±‚ï¼Œè½¬å‘åˆ°åå°æœåŠ¡å™¨ä¸Š</p>
</li>
<li><p>è¦æºå¸¦è¯·æ±‚å¤´ï¼Œè¿˜éœ€è¦å¯¼å…¥piniaçŠ¶æ€æ‰å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æˆåŠŸçš„å›è°ƒå‡½æ•°ä¸­ï¼Œå¯ä»¥æ‹¿åˆ°æœåŠ¡å™¨å“åº”çš„æ•°æ®ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå±æ€§ä¸ºdataï¼Œå¯¹åº”çš„å°±æ˜¯å›¾ç‰‡åœ¨é˜¿é‡Œäº‘ossä¸Šå­˜å‚¨çš„è®¿é—®åœ°å€ï¼Œéœ€è¦æŠŠå®ƒèµ‹å€¼ç»™articleModelçš„coverImgå±æ€§ï¼Œè¿™æ ·imgæ ‡ç­¾å°±èƒ½æ˜¾ç¤ºè¿™å¼ å›¾ç‰‡äº†ï¼Œå› ä¸ºimgæ ‡ç­¾ä¸Šé€šè¿‡srcå±æ€§ç»‘å®šäº†articleModel.coverImg</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸Šä¼ å›¾ç‰‡æˆåŠŸå›è°ƒ</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">uploadSuccess</span> = (<span class="params">img</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//imgå°±æ˜¯åå°å“åº”çš„æ•°æ®ï¼Œæ ¼å¼ä¸ºï¼š&#123;code:çŠ¶æ€ç ï¼Œmessageï¼šæç¤ºä¿¡æ¯ï¼Œdata: å›¾ç‰‡çš„å­˜å‚¨åœ°å€&#125;</span></span><br><span class="line">    articleModel.<span class="property">value</span>.<span class="property">coverImg</span>=img.<span class="property">data</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="19-4-æ·»åŠ æ–‡ç« æ¥å£è°ƒç”¨"><a href="#19-4-æ·»åŠ æ–‡ç« æ¥å£è°ƒç”¨" class="headerlink" title="19.4 æ·»åŠ æ–‡ç« æ¥å£è°ƒç”¨"></a>19.4 æ·»åŠ æ–‡ç« æ¥å£è°ƒç”¨</h3><p><strong>article.jsä¸­æä¾›æ·»åŠ æ–‡ç« å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ æ–‡ç« </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">articleAddService</span> = (<span class="params">articleModel</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/article&#x27;</span>,articleModel)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¸ºå·²å‘å¸ƒå’Œè‰ç¨¿æŒ‰é’®ç»‘å®šäº‹ä»¶</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addArticle(&#x27;å·²å‘å¸ƒ&#x27;)&quot;</span>&gt;</span>å‘å¸ƒ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addArticle(&#x27;è‰ç¨¿&#x27;)&quot;</span>&gt;</span>è‰ç¨¿<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>ArticleManage.vueä¸­æä¾›addArticleå‡½æ•°å®Œæˆæ·»åŠ æ–‡ç« æ¥å£çš„è°ƒç”¨</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ æ–‡ç« </span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addArticle</span>=<span class="keyword">async</span> (<span class="params">state</span>)=&gt;&#123;</span><br><span class="line">    articleModel.<span class="property">value</span>.<span class="property">state</span> = state</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">articleAddService</span>(articleModel.<span class="property">value</span>);</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;æ·»åŠ æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//å†æ¬¡è°ƒç”¨getArticles,è·å–æ–‡ç« </span></span><br><span class="line">    <span class="title function_">getArticles</span>()</span><br><span class="line">    <span class="comment">//éšè—æŠ½å±‰</span></span><br><span class="line">    visibleDrawer.<span class="property">value</span>=<span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="äºŒåã€é¡¶éƒ¨å¯¼èˆªæ ä¸ªäººä¿¡æ¯æ˜¾ç¤º"><a href="#äºŒåã€é¡¶éƒ¨å¯¼èˆªæ ä¸ªäººä¿¡æ¯æ˜¾ç¤º" class="headerlink" title="äºŒåã€é¡¶éƒ¨å¯¼èˆªæ ä¸ªäººä¿¡æ¯æ˜¾ç¤º"></a>äºŒåã€é¡¶éƒ¨å¯¼èˆªæ ä¸ªäººä¿¡æ¯æ˜¾ç¤º</h1><p>åœ¨Layout.vueä¸­ï¼Œé¡µé¢åŠ è½½å®Œå°±å‘é€è¯·æ±‚ï¼Œè·å–ä¸ªäººä¿¡æ¯å±•ç¤ºï¼Œå¹¶å­˜å‚¨åˆ°piniaä¸­ï¼Œå› ä¸ºå°†æ¥åœ¨ä¸ªäººä¸­å¿ƒä¸­ä¿®æ”¹ä¿¡æ¯çš„æ—¶å€™è¿˜éœ€è¦ä½¿ç”¨</p>
<p><strong>user.jsä¸­æä¾›è·å–ä¸ªäººä¿¡æ¯çš„å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–ä¸ªäººä¿¡æ¯</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userInfoGetService</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/user/userInfo&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>src/stores/user.jsä¸­ï¼Œå®šä¹‰ä¸ªäººä¸­å¿ƒçŠ¶æ€</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useUserInfoStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;userInfo&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//1.å®šä¹‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">const</span> info = <span class="title function_">ref</span>(&#123;&#125;)</span><br><span class="line">    <span class="comment">//2.å®šä¹‰ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setInfo</span> = (<span class="params">newInfo</span>)=&gt;&#123;</span><br><span class="line">        info.<span class="property">value</span> = newInfo</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3.å®šä¹‰æ¸…ç©ºç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeInfo</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        info.<span class="property">value</span>=&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>&#123;info,setInfo,removeInfo&#125;</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    <span class="attr">persist</span>:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>Layout.vueä¸­è·å–ä¸ªäººä¿¡æ¯ï¼Œå¹¶å­˜å‚¨åˆ°piniaä¸­</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥æ¥å£å‡½æ•°</span></span><br><span class="line"><span class="keyword">import</span> &#123;userInfoGetService&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"><span class="comment">//å¯¼å…¥pinia</span></span><br><span class="line"><span class="keyword">import</span> &#123;useUserInfoStore&#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/user.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> userInfoStore = <span class="title function_">useUserInfoStore</span>();</span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–ä¸ªäººä¿¡æ¯</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getUserInf</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">userInfoGetService</span>();</span><br><span class="line">    <span class="comment">//å­˜å‚¨pinia</span></span><br><span class="line">    userInfoStore.<span class="property">info</span> =result.<span class="property">data</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getUserInf</span>()</span><br></pre></td></tr></table></figure>
<p><strong>Layout.vueçš„é¡¶éƒ¨å¯¼èˆªæ ä¸­ï¼Œå±•ç¤ºæ˜µç§°å’Œå¤´åƒ</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>é»‘é©¬ç¨‹åºå‘˜ï¼š<span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123; userInfoStore.info.nickname ? userInfoStore.info.nickname : userInfoStore.info.usrename &#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">el-avatar</span> <span class="attr">:src</span>=<span class="string">&quot;userInfoStore.info.userPic ? userInfoStore.info.userPic : avatar&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="äºŒåä¸€ã€el-dropdownä¸­åŠŸèƒ½å®ç°"><a href="#äºŒåä¸€ã€el-dropdownä¸­åŠŸèƒ½å®ç°" class="headerlink" title="äºŒåä¸€ã€el-dropdownä¸­åŠŸèƒ½å®ç°"></a>äºŒåä¸€ã€el-dropdownä¸­åŠŸèƒ½å®ç°</h1><p>åœ¨el-dropdownä¸­æœ‰å››ä¸ªå­æ¡ç›®ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>åŸºæœ¬èµ„æ–™</li>
<li>æ›´æ¢å¤´åƒ</li>
<li>é‡ç½®å¯†ç </li>
<li>é€€å‡ºç™»å½•</li>
</ul>
<p>å…¶ä¸­å…¶ä¸‰ä¸ªèµ·åˆ°è·¯ç”±åŠŸèƒ½ï¼Œè·Ÿå·¦ä¾§èœå•ä¸­ã€ä¸ªäººä¸­å¿ƒã€‘ä¸‹é¢çš„äºŒçº§èœå•æ˜¯åŒæ ·çš„åŠŸèƒ½ï¼Œé€€å‡ºç™»å½•éœ€è¦åˆ é™¤æœ¬åœ°piniaä¸­å­˜å‚¨çš„tokenä»¥åŠuserInfo</p>
<p><strong>è·¯ç”±å®ç°ï¼š</strong></p>
<p>åœ¨el-dropdown-itemæ ‡ç­¾ä¸Šæ·»åŠ commandå±æ€§ï¼Œå±æ€§å€¼å’Œè·¯ç”±è¡¨ä¸­/user/xxxä¿æŒä¸€è‡´</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dropdown-menu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;User&quot;</span>&gt;</span>åŸºæœ¬èµ„æ–™<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Crop&quot;</span>&gt;</span>æ›´æ¢å¤´åƒ<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;password&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;EditPen&quot;</span>&gt;</span>é‡ç½®å¯†ç <span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;logout&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;SwitchButton&quot;</span>&gt;</span>é€€å‡ºç™»å½•<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dropdown-menu</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨el-dropdownæ ‡ç­¾ä¸Šç»‘å®šcommandäº‹ä»¶,å½“æœ‰æ¡ç›®è¢«ç‚¹å‡»åï¼Œä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dropdown</span> <span class="attr">placement</span>=<span class="string">&quot;bottom-end&quot;</span> @<span class="attr">command</span>=<span class="string">&quot;handleCommand&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æä¾›handleCommandå‡½æ•°ï¼Œå‚æ•°ä¸ºç‚¹å‡»æ¡ç›®çš„commandå±æ€§å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//dropDownæ¡ç›®è¢«ç‚¹å‡»åï¼Œå›è°ƒçš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">import</span> &#123;useRouter&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleCommand</span> = (<span class="params">command</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">if</span>(command===<span class="string">&#x27;logout&#x27;</span>)&#123;</span><br><span class="line">        <span class="comment">//é€€å‡ºç™»å½•</span></span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;é€€å‡ºç™»å½•&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//è·¯ç”±</span></span><br><span class="line">        router.<span class="title function_">push</span>(<span class="string">&#x27;/user/&#x27;</span>+command)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>é€€å‡ºç™»å½•å®ç°ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">ElMessage</span>,<span class="title class_">ElMessageBox</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useTokenStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleCommand</span> = (<span class="params">command</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (command === <span class="string">&#x27;logout&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">//é€€å‡ºç™»å½•</span></span><br><span class="line">        <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(</span><br><span class="line">            <span class="string">&#x27;ä½ ç¡®è®¤é€€å‡ºç™»å½•ç ï¼Ÿ&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®è®¤&#x27;</span>,</span><br><span class="line">                <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">            .<span class="title function_">then</span>(<span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">                <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤</span></span><br><span class="line">                <span class="comment">//æ¸…ç©ºpiniaä¸­çš„tokenå’Œä¸ªäººä¿¡æ¯</span></span><br><span class="line">                userInfoStore.<span class="property">info</span>=&#123;&#125;</span><br><span class="line">                tokenStore.<span class="property">token</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">                <span class="comment">//è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">                router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">//ç”¨æˆ·ç‚¹å‡»äº†å–æ¶ˆ</span></span><br><span class="line">                <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">                    <span class="attr">message</span>: <span class="string">&#x27;å–æ¶ˆé€€å‡º&#x27;</span>,</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//è·¯ç”±</span></span><br><span class="line">        router.<span class="title function_">push</span>(<span class="string">&#x27;/user/&#x27;</span> + command)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="äºŒåäºŒã€åŸºæœ¬èµ„æ–™ä¿®æ”¹"><a href="#äºŒåäºŒã€åŸºæœ¬èµ„æ–™ä¿®æ”¹" class="headerlink" title="äºŒåäºŒã€åŸºæœ¬èµ„æ–™ä¿®æ”¹"></a>äºŒåäºŒã€åŸºæœ¬èµ„æ–™ä¿®æ”¹</h1><h3 id="22-1-åŸºæœ¬èµ„æ–™é¡µé¢ç»„ä»¶"><a href="#22-1-åŸºæœ¬èµ„æ–™é¡µé¢ç»„ä»¶" class="headerlink" title="22.1 åŸºæœ¬èµ„æ–™é¡µé¢ç»„ä»¶"></a>22.1 åŸºæœ¬èµ„æ–™é¡µé¢ç»„ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> userInfo = <span class="title function_">ref</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">id</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">username</span>: <span class="string">&#x27;zhangsan&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">nickname</span>: <span class="string">&#x27;zs&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">email</span>: <span class="string">&#x27;zs@163.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> rules = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">nickname</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·æ˜µç§°&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">pattern</span>: <span class="regexp">/^\S&#123;2,10&#125;$/</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">message</span>: <span class="string">&#x27;æ˜µç§°å¿…é¡»æ˜¯2-10ä½çš„éç©ºå­—ç¬¦ä¸²&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    ],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">email</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·é‚®ç®±&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">type</span>: <span class="string">&#x27;email&#x27;</span>, <span class="attr">message</span>: <span class="string">&#x27;é‚®ç®±æ ¼å¼ä¸æ­£ç¡®&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">    ]</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">header</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>åŸºæœ¬èµ„æ–™<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;userInfo&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;100px&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ç™»å½•åç§°&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.username&quot;</span> <span class="attr">disabled</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ç”¨æˆ·æ˜µç§°&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;nickname&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.nickname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ç”¨æˆ·é‚®ç®±&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æäº¤ä¿®æ”¹<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="22-2-è¡¨å•æ•°æ®å›æ˜¾"><a href="#22-2-è¡¨å•æ•°æ®å›æ˜¾" class="headerlink" title="22.2 è¡¨å•æ•°æ®å›æ˜¾"></a>22.2 è¡¨å•æ•°æ®å›æ˜¾</h3><p>ä¸ªäººä¿¡æ¯ä¹‹å‰å·²ç»å­˜å‚¨åˆ°äº†piniaä¸­ï¼Œåªéœ€è¦ä»piniaä¸­è·å–ä¸ªäººä¿¡æ¯ï¼Œæ›¿æ¢æ¨¡æ¿æ•°æ®å³å¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useUserInfoStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/user.js&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> userInfoStore = <span class="title function_">useUserInfoStore</span>()</span><br><span class="line"><span class="keyword">const</span> userInfo = <span class="title function_">ref</span>(&#123;...userInfoStore.<span class="property">info</span>&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="22-3-æ¥å£è°ƒç”¨"><a href="#22-3-æ¥å£è°ƒç”¨" class="headerlink" title="22.3 æ¥å£è°ƒç”¨"></a>22.3 æ¥å£è°ƒç”¨</h3><p>åœ¨src/api/user.jsä¸­æä¾›ä¿®æ”¹åŸºæœ¬èµ„æ–™çš„å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹ä¸ªäººä¿¡æ¯</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userInfoUpdateService</span> = (<span class="params">userInfo</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">put</span>(<span class="string">&#x27;/user/update&#x27;</span>,userInfo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºä¿®æ”¹æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateUserInfo&quot;</span>&gt;</span>æäº¤ä¿®æ”¹<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æä¾›updateUserInfoå‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">import</span> &#123;userInfoUpdateService&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateUserInfo</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">userInfoUpdateService</span>(userInfo.<span class="property">value</span>)</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;ä¿®æ”¹æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//æ›´æ–°piniaä¸­çš„æ•°æ®</span></span><br><span class="line">    userInfoStore.<span class="property">info</span>.<span class="property">nickname</span>=userInfo.<span class="property">value</span>.<span class="property">nickname</span></span><br><span class="line">    userInfoStore.<span class="property">info</span>.<span class="property">email</span> = userInfo.<span class="property">value</span>.<span class="property">email</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="äºŒåä¸‰ã€ä¿®æ”¹å¤´åƒ"><a href="#äºŒåä¸‰ã€ä¿®æ”¹å¤´åƒ" class="headerlink" title="äºŒåä¸‰ã€ä¿®æ”¹å¤´åƒ"></a>äºŒåä¸‰ã€ä¿®æ”¹å¤´åƒ</h1><h3 id="23-1-ä¿®æ”¹å¤´åƒé¡µé¢ç»„ä»¶"><a href="#23-1-ä¿®æ”¹å¤´åƒé¡µé¢ç»„ä»¶" class="headerlink" title="23.1 ä¿®æ”¹å¤´åƒé¡µé¢ç»„ä»¶"></a>23.1 ä¿®æ”¹å¤´åƒé¡µé¢ç»„ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; <span class="title class_">Plus</span>, <span class="title class_">Upload</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> avatar <span class="keyword">from</span> <span class="string">&#x27;@/assets/default.png&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> uploadRef = <span class="title function_">ref</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//ç”¨æˆ·å¤´åƒåœ°å€</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> imgUrl= avatar</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">header</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ›´æ¢å¤´åƒ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-upload</span> </span></span><br><span class="line"><span class="tag">                    <span class="attr">ref</span>=<span class="string">&quot;uploadRef&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> </span></span><br><span class="line"><span class="tag">                    <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                    &gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-else</span> <span class="attr">src</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">width</span>=<span class="string">&quot;278&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Plus&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>  @<span class="attr">click</span>=<span class="string">&quot;uploadRef.$el.querySelector(&#x27;input&#x27;).click()&quot;</span>&gt;</span></span><br><span class="line">                    é€‰æ‹©å›¾ç‰‡</span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Upload&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>&gt;</span></span><br><span class="line">                    ä¸Šä¼ å¤´åƒ</span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.avatar-uploader</span> &#123;</span></span><br><span class="line"><span class="language-css">    :<span class="built_in">deep</span>() &#123;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.avatar</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">278px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">278px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-upload</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="built_in">var</span>(--el-border-color);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: <span class="built_in">var</span>(--el-transition-duration-fast);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-upload</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-color</span>: <span class="built_in">var</span>(--el-color-primary);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-icon</span><span class="selector-class">.avatar-uploader-icon</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">28px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#8c939d</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">278px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">278px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="23-2-å¤´åƒå›æ˜¾"><a href="#23-2-å¤´åƒå›æ˜¾" class="headerlink" title="23.2 å¤´åƒå›æ˜¾"></a>23.2 å¤´åƒå›æ˜¾</h3><p>ä»piniaä¸­è¯»å–ç”¨æˆ·çš„å¤´åƒæ•°æ®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯»å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;useUserInfoStore&#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/user.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> userInfoStore = <span class="title function_">useUserInfoStore</span>()</span><br><span class="line"><span class="keyword">const</span> imgUrl=<span class="title function_">ref</span>(userInfoStore.<span class="property">info</span>.<span class="property">userPic</span>)</span><br></pre></td></tr></table></figure>
<p>imgæ ‡ç­¾ä¸Šç»‘å®šå›¾ç‰‡åœ°å€</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-else</span> <span class="attr">src</span>=<span class="string">&quot;@/assets/avatar.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;278&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="23-3-å¤´åƒä¸Šä¼ "><a href="#23-3-å¤´åƒä¸Šä¼ " class="headerlink" title="23.3 å¤´åƒä¸Šä¼ "></a>23.3 å¤´åƒä¸Šä¼ </h3><p>ä¸ºel-uploadæŒ‡å®šå±æ€§å€¼ï¼Œåˆ†åˆ«æœ‰ï¼š</p>
<ul>
<li>â€‹    action: æœåŠ¡å™¨æ¥å£è·¯å¾„</li>
<li>â€‹    headers: è®¾ç½®è¯·æ±‚å¤´ï¼Œéœ€è¦æºå¸¦token</li>
<li>â€‹    on-success: ä¸Šä¼ æˆåŠŸçš„å›è°ƒå‡½æ•°</li>
<li>â€‹    name: ä¸Šä¼ å›¾ç‰‡çš„å­—æ®µåç§°</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-upload</span> </span></span><br><span class="line"><span class="tag">           <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> </span></span><br><span class="line"><span class="tag">           <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:auto-upload</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">action</span>=<span class="string">&quot;/api/upload&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">name</span>=<span class="string">&quot;file&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:headers</span>=<span class="string">&quot;&#123;&#x27;Authorization&#x27;:tokenStore.token&#125;&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:on-success</span>=<span class="string">&quot;uploadSuccess&quot;</span></span></span><br><span class="line"><span class="tag">           &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-else</span> <span class="attr">src</span>=<span class="string">&quot;@/assets/avatar.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;278&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æä¾›ä¸Šä¼ æˆåŠŸçš„å›è°ƒå‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯»å–tokenä¿¡æ¯</span></span><br><span class="line"><span class="keyword">import</span> &#123;useTokenStore&#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/token.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> tokenStore = <span class="title function_">useTokenStore</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›¾ç‰‡ä¸Šä¼ æˆåŠŸçš„å›è°ƒ</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">uploadSuccess</span> = (<span class="params">result</span>)=&gt;&#123;</span><br><span class="line">    <span class="comment">//å›æ˜¾å›¾ç‰‡</span></span><br><span class="line">    imgUrl.<span class="property">value</span> = result.<span class="property">data</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¤–éƒ¨è§¦å‘å›¾ç‰‡é€‰æ‹©</p>
<p>â€‹    éœ€è¦è·å–åˆ°el-uploadç»„ä»¶ï¼Œç„¶åå†é€šè¿‡$el.querySelector(â€˜inputâ€™)è·å–åˆ°el-uploadå¯¹åº”çš„å…ƒç´ ï¼Œè§¦å‘clickäº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//è·å–el-uploadå…ƒç´ </span><br><span class="line">const uploadRef = ref()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Plus&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>  @<span class="attr">click</span>=<span class="string">&quot;uploadRef.$el.querySelector(&#x27;input&#x27;).click()&quot;</span>&gt;</span></span><br><span class="line">    é€‰æ‹©å›¾ç‰‡</span><br><span class="line"><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="24-4-æ¥å£è°ƒç”¨"><a href="#24-4-æ¥å£è°ƒç”¨" class="headerlink" title="24.4 æ¥å£è°ƒç”¨"></a>24.4 æ¥å£è°ƒç”¨</h3><p>åœ¨user.jsä¸­æä¾›ä¿®æ”¹å¤´åƒçš„å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹å¤´åƒ</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userAvatarUpdateService</span>=(<span class="params">avatarUrl</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>();</span><br><span class="line">    params.<span class="title function_">append</span>(<span class="string">&#x27;avatarUrl&#x27;</span>,avatarUrl)</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">patch</span>(<span class="string">&#x27;/user/updateAvatar&#x27;</span>,params)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºã€ä¸Šä¼ å¤´åƒã€‘æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Upload&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateAvatar&quot;</span>&gt;</span></span><br><span class="line">    ä¸Šä¼ å¤´åƒ</span><br><span class="line"><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æä¾›updateAvatarå‡½æ•°ï¼Œå®Œæˆå¤´åƒæ›´æ–°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è°ƒç”¨æ¥å£ï¼Œæ›´æ–°å¤´åƒurl</span></span><br><span class="line"><span class="keyword">import</span> &#123;userAvatarUpdateService&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">ElMessage</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateAvatar</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">userAvatarUpdateService</span>(imgUrl.<span class="property">value</span>)</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">message</span>? result.<span class="property">message</span>:<span class="string">&#x27;ä¿®æ”¹æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">//æ›´æ–°piniaä¸­çš„æ•°æ®</span></span><br><span class="line">    userInfoStore.<span class="property">info</span>.<span class="property">userPic</span>=imgUrl.<span class="property">value</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>å¤§äº‹ä»¶æ–‡æ¡£</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://www.spike1666.top/2025/03/22/%E5%A4%A7%E4%BA%8B%E4%BB%B6/">https://www.spike1666.top/2025/03/22/å¤§äº‹ä»¶/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>Yang Le</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2025-03-22</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2025-03-22</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue-springboot/">vue+springboot</a></div><div class="post-share"><div class="social-share" data-image="https://source.fomal.cc/img/yuanshen1.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer></script></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">èµåŠ©</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/IMG_4767.JPG" target="_blank"><img class="post-qr-code-img" src="/img/IMG_4767.JPG" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/touxiang.png" target="_blank"><img class="post-qr-code-img" src="/img/touxiang.png" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/03/30/%E4%B8%89%E6%9C%88%E4%B8%89/" title="æ¡‚æ—ä¸‰æœˆä¸‰"><img class="cover" src="https://source.fomal.cc/img/movie.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">æ¡‚æ—ä¸‰æœˆä¸‰</div></div><div class="info-2"><div class="info-item-1">  ...</div></div></div></a><a class="pagination-related" href="/2025/03/22/%E5%8F%A4%E8%AF%97/" title="å¤è¯—è¯"><img class="cover" src="https://source.fomal.cc/img/dm8.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">å¤è¯—è¯</div></div><div class="info-2"><div class="info-item-1">     å¤è¯—è¯é›†              body {             font-family: 'SimSun', serif;             line-height: 1.6;             padding: 20px;             font-size: 18px; /* æ·»åŠ è¿™ä¸€è¡Œï¼Œå°†å­—ä½“å¤§å°è®¾ç½®ä¸º 18px ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´æ•°å€¼ */         }         h2 {             margin-top: 30px;             margin-bottom: 15px;             border-bottom: 1px solid #ccc;             padding-bottom: 5px;         }           ã€Šå›½é£ãƒ»å‘¨å—ãƒ»å…³é›ã€‹å…³å…³é›é¸ ï¼Œåœ¨æ²³ä¹‹æ´²ã€‚çªˆçª•æ·‘å¥³ï¼Œå›å­å¥½é€‘ã€‚å‚å·®è‡èœï¼Œå·¦å³æµä¹‹ã€‚çªˆçª•æ·‘å¥³ï¼Œå¯¤å¯æ±‚ä¹‹ã€‚æ±‚ä¹‹ä¸å¾—ï¼Œå¯¤å¯æ€æœã€‚æ‚ å“‰æ‚ å“‰ï¼Œè¾—è½¬åä¾§ã€‚å‚å·®è‡èœï¼Œå·¦å³é‡‡ä¹‹ã€‚çªˆçª•æ·‘å¥³ï¼Œç´ç‘Ÿå‹ä¹‹ã€‚å‚å·®è‡èœï¼Œå·¦å³èŠ¼ä¹‹ã€‚çªˆçª•æ·‘å¥³ï¼Œé’Ÿé¼“ä¹ä¹‹ã€‚   ...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/04/07/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" title="è‹ç©¹é¡¹ç›®"><img class="cover" src="https://source.fomal.cc/img/yuanshen1.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-07</div><div class="info-item-2">è‹ç©¹é¡¹ç›®</div></div><div class="info-2"><div class="info-item-1">ä¸€ã€ç¬¬ä¸€å¤©md5åŠ å¯†ï¼ˆmavenå¯¼å…¥ç‰ˆï¼‰123456789101. å¯¼å…¥md5ï¼ˆå•ç¨‹åŠ å¯†ï¼Œä¸èƒ½å¤åŸï¼‰        &lt;dependency&gt;            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;            &lt;version&gt;2.9.2&lt;/version&gt;        &lt;/dependency&gt;2. ä½¿ç”¨        //å°†å‰ç«¯çš„æ•°æ®è¿›è¡Œmd5å¤„ç†å†å¯¹æ¯”        password = DigestUtils.md5DigestAsHex(password.getBytes()); swagger123456789101112131415161718192021222324252627282930313233343536373839404142434445461. åœ¨mavenä¸­å¯¼å…¥knife4j   ...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/touxiang.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Yang Le</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾ğŸ</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">åˆ†ç±»ğŸ¥½</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/spike1666"><i></i><span>ğŸ›´å‰å¾€å°å®¶...</span></a><div class="card-info-social-icons"><a class="social-icon faa-parent animated-hover" href="https://github.com/spike1666/spike1666.github.io" target="_blank" title="github"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://u.wechat.com/MBRAZFzI4ppuCaBe-8RIMPI" target="_blank" title="å¾®ä¿¡"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-weixin"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://user.qzone.qq.com/2711310442/main" target="_blank" title="QQ"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-QQ"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/95323269" target="_blank" title="Bç«™"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-blibli1"></use></svg></a><a class="social-icon faa-parent animated-hover" href="mailto:2711310442@qq.com" target="_blank" title="QQé‚®ç®±"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiangsufeng_youxiang"></use></svg></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><a class="faa-parent animated-hover"><svg class="faa-tada icon" style="height:40px;width:40px;fill:currentColor;position:relative;top:5px" aria-hidden="true"><use xlink:href="#icon-tongzhigonggao"></use></svg></a><span>å…¬å‘Š</span></div><div class="announcement_content"><div class="twopeople"><div class="container" style="height:200px;"><canvas class="illo" width="800" height="800" style="max-width:200px; max-height:200px; touch-action:none; width:640px; height:640px;"></canvas></div><script src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople1.js"></script><script src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/zdog.dist.js"></script><script id="rendered-js" src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople.js"></script><style>.twopeople{margin:0;align-items:center;justify-content:center;text-align:center;}canvas {display:block;margin:0 auto;cursor:move;}</style></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-text">ä¸€ã€ç¯å¢ƒå‡†å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%88%9B%E5%BB%BAvue%E5%B7%A5%E7%A8%8B-big-event"><span class="toc-text">1.1 åˆ›å»ºvueå·¥ç¨‹(big-event)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="toc-text">1.2 å®‰è£…æ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E7%9B%AE%E5%BD%95%E8%B0%83%E6%95%B4"><span class="toc-text">1.3 ç›®å½•è°ƒæ•´</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%B3%A8%E5%86%8C"><span class="toc-text">äºŒã€æ³¨å†Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E9%A1%B5%E9%9D%A2%E6%90%AD%E5%BB%BA"><span class="toc-text">2.1 é¡µé¢æ­å»º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E4%B8%8E%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="toc-text">2.2 é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-text">2.2.1 æ•°æ®ç»‘å®š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C"><span class="toc-text">2.2.2 è¡¨å•æ ¡éªŒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="toc-text">2.2.3 äº‹ä»¶ç»‘å®š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">2.3 æ¥å£è°ƒç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E5%9C%A8src-api-user-js%E4%B8%AD%E6%8F%90%E4%BE%9B%E8%AE%BF%E9%97%AE%E6%B3%A8%E5%86%8C%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-text">2.3.1 åœ¨src&#x2F;api&#x2F;user.jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E5%9C%A8Login-vue%E4%B8%AD%E5%AE%8C%E6%88%90%E6%B3%A8%E5%86%8C%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">2.3.2 åœ¨Login.vueä¸­å®Œæˆæ³¨å†Œæ¥å£è°ƒç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E5%A4%84%E7%90%86%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-text">2.4 å¤„ç†è·¨åŸŸé—®é¢˜</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%99%BB%E5%BD%95"><span class="toc-text">ä¸‰ã€ç™»å½•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E4%B8%8E%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="toc-text">3.1é¡µé¢æ•°æ®ç»‘å®šä¸äº‹ä»¶ç»‘å®š</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-%E7%BB%91%E5%AE%9A%E6%95%B0%E6%8D%AE"><span class="toc-text">3.1.1 ç»‘å®šæ•°æ®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-%E6%AF%8F%E6%AC%A1%E7%82%B9%E5%87%BB%E6%B3%A8%E5%86%8C%E6%88%96%E8%80%85%E7%99%BB%E5%BD%95%EF%BC%8C%E5%85%B1%E7%94%A8%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-text">3.1.2 æ¯æ¬¡ç‚¹å‡»æ³¨å†Œæˆ–è€…ç™»å½•ï¼Œå…±ç”¨æ•°æ®æ¨¡å‹ä¸­çš„æ•°æ®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="toc-text">3.1.3 äº‹ä»¶ç»‘å®š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">3.2 æ¥å£è°ƒç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-%E5%9C%A8src-api-user-js%E4%B8%AD%E6%8F%90%E4%BE%9B%E8%AE%BF%E9%97%AE%E6%B3%A8%E5%86%8C%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-text">3.2.1 åœ¨src&#x2F;api&#x2F;user.jsä¸­æä¾›è®¿é—®æ³¨å†Œæ¥å£çš„å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E5%9C%A8Login-vue%E4%B8%AD%E5%AE%8C%E6%88%90%E7%99%BB%E5%BD%95%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">3.2.2 åœ¨Login.vueä¸­å®Œæˆç™»å½•æ¥å£è°ƒç”¨</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%BC%98%E5%8C%96axios%E5%93%8D%E5%BA%94%E6%88%AA%E5%99%A8"><span class="toc-text">å››ã€ä¼˜åŒ–axioså“åº”æˆªå™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%B8%BB%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="toc-text">äº”ã€ä¸»é¡µé¢å¸ƒå±€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E8%B7%AF%E7%94%B1"><span class="toc-text">å…­ã€è·¯ç”±</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1%E5%AE%89%E8%A3%85%E8%B7%AF%E7%94%B1"><span class="toc-text">6.1å®‰è£…è·¯ç”±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1%E5%99%A8%EF%BC%8C%E5%B9%B6%E5%AF%BC%E5%87%BA"><span class="toc-text">6.2åˆ›å»ºè·¯ç”±å™¨ï¼Œå¹¶å¯¼å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3%E5%9C%A8vue%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B%E4%B8%AD%E4%BD%BF%E7%94%A8router"><span class="toc-text">6.3åœ¨vueåº”ç”¨å®ä¾‹ä¸­ä½¿ç”¨router</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4%E5%AE%9A%E4%B9%89%E5%B1%95%E7%A4%BA%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E7%9A%84%E5%9C%B0%E6%96%B9"><span class="toc-text">6.4å®šä¹‰å±•ç¤ºè·¯ç”±ç»„ä»¶çš„åœ°æ–¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-%E6%B5%8B%E8%AF%95"><span class="toc-text">6.5 æµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-%E8%B7%AF%E7%94%B1API"><span class="toc-text">6.6 è·¯ç”±API</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%AD%90%E8%B7%AF%E7%94%B1"><span class="toc-text">ä¸ƒã€å­è·¯ç”±</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1%E6%8F%90%E4%BE%9B%E8%8F%9C%E5%8D%95%E5%AF%B9%E5%BA%94%E7%9A%84%E7%BB%84%E4%BB%B6"><span class="toc-text">7.1æä¾›èœå•å¯¹åº”çš„ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2%E9%85%8D%E7%BD%AE%E5%AD%90%E8%B7%AF%E7%94%B1"><span class="toc-text">7.2é…ç½®å­è·¯ç”±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%9C%A8Layout-vue%E7%BB%84%E4%BB%B6%E7%9A%84%E5%8F%B3%E4%BE%A7%E4%B8%AD%E9%97%B4%E5%8C%BA%E5%9F%9F%EF%BC%8C%E6%B7%BB%E5%8A%A0router-view%E6%A0%87%E7%AD%BE"><span class="toc-text">7.3 åœ¨Layout.vueç»„ä»¶çš„å³ä¾§ä¸­é—´åŒºåŸŸï¼Œæ·»åŠ router-viewæ ‡ç­¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%8F%9C%E5%8D%95%E9%A1%B9%E8%AE%BE%E7%BD%AE%E7%82%B9%E5%87%BB%E5%90%8E%E8%B7%B3%E8%BD%AC%E7%9A%84%E8%B7%AF%E7%94%B1%E8%B7%AF%E5%BE%84"><span class="toc-text">7.4 èœå•é¡¹è®¾ç½®ç‚¹å‡»åè·³è½¬çš„è·¯ç”±è·¯å¾„</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E5%88%97%E8%A1%A8"><span class="toc-text">å…«ã€æ–‡ç« åˆ†ç±»åˆ—è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E7%BB%84%E4%BB%B6"><span class="toc-text">8.1 æ–‡ç« åˆ†ç±»ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">8.2 åˆ—è¡¨æ¥å£è°ƒç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E3%80%81Pinia%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%BA%93"><span class="toc-text">ä¹ã€PiniaçŠ¶æ€ç®¡ç†åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1%E5%AE%89%E8%A3%85"><span class="toc-text">9.1å®‰è£…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2%E4%BD%BF%E7%94%A8Pinia"><span class="toc-text">9.2ä½¿ç”¨Pinia</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%AE%9A%E4%B9%89Store"><span class="toc-text">9.3 å®šä¹‰Store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-%E4%BD%BF%E7%94%A8Store"><span class="toc-text">9.4 ä½¿ç”¨Store</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E3%80%81axios%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-text">åã€axiosè¯·æ±‚æ‹¦æˆªå™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81Pinia%E6%8C%81%E4%B9%85%E5%8C%96%E6%8F%92%E4%BB%B6"><span class="toc-text">åä¸€ã€PiniaæŒä¹…åŒ–æ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-%E5%AE%89%E8%A3%85persist%E6%8F%92%E4%BB%B6"><span class="toc-text">11.1 å®‰è£…persistæ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-pinia%E4%B8%AD%E4%BD%BF%E7%94%A8persist%E6%8F%92%E4%BB%B6"><span class="toc-text">11.2 piniaä¸­ä½¿ç”¨persistæ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-%E5%9C%A8%E5%88%9B%E5%BB%BA%E5%AE%9A%E4%B9%89%E7%8A%B6%E6%80%81%E6%98%AF%E9%85%8D%E7%BD%AE%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-text">11.3 åœ¨åˆ›å»ºå®šä¹‰çŠ¶æ€æ˜¯é…ç½®æŒä¹…åŒ–</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81%E6%9C%AA%E7%99%BB%E5%BD%95%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86"><span class="toc-text">åäºŒã€æœªç™»å½•ç»Ÿä¸€å¤„ç†</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB"><span class="toc-text">åä¸‰ã€æ·»åŠ æ–‡ç« åˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-1-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%BC%B9%E7%AA%97%E9%A1%B5%E9%9D%A2"><span class="toc-text">13.1 æ·»åŠ åˆ†ç±»å¼¹çª—é¡µé¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E5%92%8C%E6%A0%A1%E9%AA%8C%E8%A7%84%E5%88%99"><span class="toc-text">13.2 æ•°æ®æ¨¡å‹å’Œæ ¡éªŒè§„åˆ™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E6%8C%89%E9%92%AE%E5%8D%95%E5%87%BB%E4%BA%8B%E4%BB%B6"><span class="toc-text">13.3 æ·»åŠ åˆ†ç±»æŒ‰é’®å•å‡»äº‹ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">13.4 æ¥å£è°ƒç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81%E4%BF%AE%E6%94%B9%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB"><span class="toc-text">åå››ã€ä¿®æ”¹æ–‡ç« åˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-1-%E4%BF%AE%E6%94%B9%E5%88%86%E7%B1%BB%E5%BC%B9%E7%AA%97%E9%A1%B5%E9%9D%A2"><span class="toc-text">14.1 ä¿®æ”¹åˆ†ç±»å¼¹çª—é¡µé¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-%E6%95%B0%E6%8D%AE%E5%9B%9E%E6%98%BE"><span class="toc-text">14.2 æ•°æ®å›æ˜¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-3-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">14.3 æ¥å£è°ƒç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%BA%94%E3%80%81%E5%88%A0%E9%99%A4%E5%88%86%E7%B1%BB%EF%BC%88%E5%90%8E%E5%8F%B0%E9%9C%80%E8%A6%81%E8%A1%A5%E9%BD%90%EF%BC%89"><span class="toc-text">åäº”ã€åˆ é™¤åˆ†ç±»ï¼ˆåå°éœ€è¦è¡¥é½ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-%E7%A1%AE%E8%AE%A4%E6%A1%86"><span class="toc-text">15.1 ç¡®è®¤æ¡†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">15.2 æ¥å£è°ƒç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E5%85%AD%E3%80%81%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8"><span class="toc-text">åå…­ã€æ–‡ç« åˆ—è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#16-1-%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2%E7%BB%84%E4%BB%B6"><span class="toc-text">16.1 æ–‡ç« åˆ—è¡¨é¡µé¢ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-2%E3%80%81%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE%E5%9B%9E%E6%98%BE"><span class="toc-text">16.2ã€æ–‡ç« åˆ†ç±»æ•°æ®å›æ˜¾</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text"> </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%83%E3%80%81-%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">åä¸ƒã€ æ–‡ç« åˆ—è¡¨æ¥å£è°ƒç”¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E5%85%AB%E3%80%81%E6%90%9C%E7%B4%A2%E5%92%8C%E9%87%8D%E7%BD%AE"><span class="toc-text">åå…«ã€æœç´¢å’Œé‡ç½®</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B9%9D%E3%80%81%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0"><span class="toc-text">åä¹ã€æ·»åŠ æ–‡ç« </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#19-1-%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E6%8A%BD%E5%B1%89%E7%BB%84%E4%BB%B6"><span class="toc-text">19.1 æ·»åŠ æ–‡ç« æŠ½å±‰ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-2-%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">19.2 å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-3-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0"><span class="toc-text">19.3 æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-4-%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">19.4 æ·»åŠ æ–‡ç« æ¥å£è°ƒç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E3%80%81%E9%A1%B6%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF%E6%98%BE%E7%A4%BA"><span class="toc-text">äºŒåã€é¡¶éƒ¨å¯¼èˆªæ ä¸ªäººä¿¡æ¯æ˜¾ç¤º</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81el-dropdown%E4%B8%AD%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-text">äºŒåä¸€ã€el-dropdownä¸­åŠŸèƒ½å®ç°</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E5%9F%BA%E6%9C%AC%E8%B5%84%E6%96%99%E4%BF%AE%E6%94%B9"><span class="toc-text">äºŒåäºŒã€åŸºæœ¬èµ„æ–™ä¿®æ”¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#22-1-%E5%9F%BA%E6%9C%AC%E8%B5%84%E6%96%99%E9%A1%B5%E9%9D%A2%E7%BB%84%E4%BB%B6"><span class="toc-text">22.1 åŸºæœ¬èµ„æ–™é¡µé¢ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-2-%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E5%9B%9E%E6%98%BE"><span class="toc-text">22.2 è¡¨å•æ•°æ®å›æ˜¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-3-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">22.3 æ¥å£è°ƒç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E4%BF%AE%E6%94%B9%E5%A4%B4%E5%83%8F"><span class="toc-text">äºŒåä¸‰ã€ä¿®æ”¹å¤´åƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#23-1-%E4%BF%AE%E6%94%B9%E5%A4%B4%E5%83%8F%E9%A1%B5%E9%9D%A2%E7%BB%84%E4%BB%B6"><span class="toc-text">23.1 ä¿®æ”¹å¤´åƒé¡µé¢ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-2-%E5%A4%B4%E5%83%8F%E5%9B%9E%E6%98%BE"><span class="toc-text">23.2 å¤´åƒå›æ˜¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-3-%E5%A4%B4%E5%83%8F%E4%B8%8A%E4%BC%A0"><span class="toc-text">23.3 å¤´åƒä¸Šä¼ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-4-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8"><span class="toc-text">24.4 æ¥å£è°ƒç”¨</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><a class="faa-parent animated-hover"><svg class="faa-tada icon" style="height:40px;width:40px;fill:currentColor;position:relative;top:5px" aria-hidden="true"><use xlink:href="#icon-zuixinwenzhang"></use></svg></a><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/04/07/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" title="è‹ç©¹é¡¹ç›®"><img src="https://source.fomal.cc/img/yuanshen1.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è‹ç©¹é¡¹ç›®"/></a><div class="content"><a class="title" href="/2025/04/07/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" title="è‹ç©¹é¡¹ç›®">è‹ç©¹é¡¹ç›®</a><time datetime="2025-04-06T16:00:00.000Z" title="å‘è¡¨äº 2025-04-07 00:00:00">2025-04-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/03/game/" title="é‚£äº›å¹´ç©è¿‡çš„æ¸¸æˆ"><img src="/img/2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="é‚£äº›å¹´ç©è¿‡çš„æ¸¸æˆ"/></a><div class="content"><a class="title" href="/2025/04/03/game/" title="é‚£äº›å¹´ç©è¿‡çš„æ¸¸æˆ">é‚£äº›å¹´ç©è¿‡çš„æ¸¸æˆ</a><time datetime="2025-04-02T16:00:00.000Z" title="å‘è¡¨äº 2025-04-03 00:00:00">2025-04-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/02/%E4%BB%8B%E7%BB%8D/" title="å…³äºspike1666.top"><img src="https://source.fomal.cc/img/dm8.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="å…³äºspike1666.top"/></a><div class="content"><a class="title" href="/2025/04/02/%E4%BB%8B%E7%BB%8D/" title="å…³äºspike1666.top">å…³äºspike1666.top</a><time datetime="2025-04-01T16:00:00.000Z" title="å‘è¡¨äº 2025-04-02 00:00:00">2025-04-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><a class="icon-V hidden" onclick="switchNightMode()" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="å‰å¾€è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"><span id="percent">0<span>%</span></span></i></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.spike1666.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoo.spike1666.top/',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdnjs.cloudflare.com/ajax/libs/twikoo/1.6.41/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/cursor.js"></script><script async src="//at.alicdn.com/t/c/font_4868511_h1cwycxn1c4.js"></script><div class="aplayer no-destroy" data-id="8152976493" data-server="netease" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer data-pjax src="/js/readPercent.js"></script><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script src="/js/sun_moon.js" async></script><script src="/js/randdom.js" async></script><script type="text/javascript" src="https://cdn1.tianli0.top/npm/jquery@latest/dist/jquery.min.js"></script><script type="text/javascript" src="/js/rightmenu.js"></script><script async src="/js/title.js"></script><canvas id="snow"></canvas><script async src="/js/snow.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.4/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.4/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"]):not([href="/no-pjax/"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false 
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://www.spike1666.top/categories/love/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">â¤ å…³äºçˆ±çš„å®šä¹‰ (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.spike1666.top/categories/test/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ® æµ‹è¯• (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.spike1666.top/categories/game/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ±â€ğŸ‘“ é‚£äº›å¹´ç©è¿‡çš„æ¸¸æˆ (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.spike1666.top/categories/æ—¥è®°/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ““ æ—¥è®°æœ¬ğŸ“• (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://www.spike1666.top/categories" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>';
    console.log('å·²æŒ‚è½½magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #b30070}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²,ä¸»çº¿è·¯æ‰˜ç®¡äºVercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²,å¤‡ç”¨çº¿è·¯æ‰˜ç®¡äº4EVERLAND" title=""><img src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('å·²æŒ‚è½½butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/04/02/ä»‹ç»/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://source.fomal.cc/img/dm8.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/04/02/ä»‹ç»/&quot;);" href="javascript:void(0);" alt="">å…³äºspike1666.top</a><div class="blog-slider__text">è¿›æ¥çœ‹çœ‹æ´›~</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/04/02/ä»‹ç»/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/31/è›ŠçœŸäººè¯—è¯/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="/img/è›ŠçœŸäºº.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-31</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/31/è›ŠçœŸäººè¯—è¯/&quot;);" href="javascript:void(0);" alt="">è›ŠçœŸäºº</a><div class="blog-slider__text">è¿›æ¥çœ‹çœ‹æ´›~</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/31/è›ŠçœŸäººè¯—è¯/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/22/å¤è¯—/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://source.fomal.cc/img/dm8.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/22/å¤è¯—/&quot;);" href="javascript:void(0);" alt="">å¤è¯—è¯</a><div class="blog-slider__text">è¿›æ¥çœ‹çœ‹æ´›~</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/22/å¤è¯—/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/22/ä¸œåŒ—èœ/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://source.fomal.cc/img/wallpaper_cover.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/22/ä¸œåŒ—èœ/&quot;);" href="javascript:void(0);" alt="">ä¸€æ—¥ä¹‹é‡ï¼Œæ™¯é£Ÿä¹‹ä¹</a><div class="blog-slider__text">è¿›æ¥çœ‹çœ‹æ´›~</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/22/ä¸œåŒ—èœ/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/22/love/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="/img/1.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/22/love/&quot;);" href="javascript:void(0);" alt="">éšç¬”</a><div class="blog-slider__text">ä½ è§‰å¾—å‘¢</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/22/love/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '0');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":120,"height":250},"mobile":{"show":true},"log":false});</script></body></html>